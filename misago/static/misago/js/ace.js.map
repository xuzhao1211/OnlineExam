{"version":3,"sources":["ace.js"],"names":["exportAce","ns","root","global","define","packaged","original","require","ACE_NAMESPACE","this","window","requirejs","module","deps","payload","apply","arguments","console","error","trace","length","modules","payloads","_require","parentId","callback","lookup","undefined","Object","prototype","toString","call","params","i","l","dep","push","packagedModule","normalizeModule","moduleName","indexOf","chunks","split","charAt","base","slice","join","previous","replace","exports","mod","id","uri","req","returnValue","getNativeFlags","regex","ignoreCase","multiline","extended","sticky","array","item","from","Array","real","exec","RegExp","test","match","String","compliantExecNpcg","compliantLastIndexIncrement","x","lastIndex","str","name","r2","source","index","_xregexp","captureNames","Empty","doesDefinePropertyWork","object","defineProperty","exception","toInteger","n","Math","floor","abs","Function","bind","that","target","TypeError","args","bound","result","concat","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","prototypeOfArray","prototypeOfObject","_toString","owns","hasOwnProperty","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","splice","makeArray","a","lengthBefore","array_splice","start","deleteCount","pos","removeCount","max","removed","insert","add","remove","min","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","isArray","obj","boxedString","splitString","forEach","fun","toObject","self","thisp","map","filter","value","every","some","reduce","reduceRight","sought","lastIndexOf","getPrototypeOf","__proto__","constructor","getOwnPropertyDescriptor","ERR_NON_OBJECT","property","descriptor","getter","setter","enumerable","configurable","get","set","getOwnPropertyNames","keys","create","createEmpty","empty","propertyIsEnumerable","isPrototypeOf","toLocaleString","valueOf","properties","Type","defineProperties","definePropertyWorksOnObject","definePropertyWorksOnDom","document","createElement","definePropertyFallback","ERR_NON_OBJECT_DESCRIPTOR","ERR_NON_OBJECT_TARGET","ERR_ACCESSORS_NOT_SUPPORTED","seal","freeze","freezeObject","preventExtensions","isSealed","isFrozen","isExtensible","hasDontEnumBug","dontEnums","dontEnumsLength","key","ii","dontEnum","Date","now","getTime","ws","trim","trimBeginRegexp","trimEndRegexp","o","XHTML_NS","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","createElementNS","hasCssClass","el","classes","className","addCssClass","removeCssClass","toggleCssClass","setCssClass","node","include","hasCssString","sheets","createStyleSheet","styleSheets","owningElement","importCssString","cssText","style","appendChild","createTextNode","importCssStylsheet","link","rel","href","getInnerWidth","element","parseInt","computedStyle","clientWidth","getInnerHeight","clientHeight","scrollbarWidth","inner","width","minWidth","height","display","outer","position","left","overflow","body","noScrollbar","offsetWidth","withScrollbar","removeChild","pageYOffset","getPageScrollTop","getPageScrollLeft","pageXOffset","scrollTop","scrollLeft","getComputedStyle","currentStyle","setInnerHtml","innerHtml","cloneNode","innerHTML","parentNode","replaceChild","setInnerText","innerText","textContent","getInnerText","getParentWindow","defaultView","parentWindow","inherits","ctor","superCtor","super_","writable","mixin","implement","proto","oop","Keys","ret","MODIFIER_KEYS",16,17,18,224,"KEY_MODS","ctrl","alt","option","shift","super","meta","command","cmd","FUNCTION_KEYS",8,9,13,19,27,32,33,34,35,36,37,38,39,40,44,45,46,96,97,98,99,100,101,102,103,104,105,"-13",112,113,114,115,116,117,118,119,120,121,122,123,144,145,"PRINTABLE_KEYS",48,49,50,51,52,53,54,55,56,57,59,61,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,107,109,110,186,187,188,189,190,191,192,219,220,221,222,"toLowerCase","enter","escape","esc","del","mods","pow","keyCodeToString","keyCode","keyString","fromCharCode","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","navigator","os","platform","ua","userAgent","isWin","isIE","parseFloat","appName","isOldIE","isGecko","isMozilla","Controllers","controllers","product","isOldGecko","isOpera","opera","isWebKit","isChrome","isAIR","isIPad","isTouchPad","isChromeOS","normalizeCommandKeys","e","hashId","getModifierHash","useragent","pressedKeys","altGr","location","keyLocation","ts","timeStamp","dt","defaultPrevented","resetPressedKeys","addListener","elem","type","addEventListener","attachEvent","wrapper","event","_wrapper","removeListener","removeEventListener","detachEvent","stopEvent","stopPropagation","preventDefault","cancelBubble","getButton","ctrlKey","altKey","shiftKey","button",1,2,4,"capture","eventHandler","releaseCaptureHandler","onMouseUp","addTouchMoveListener","startx","starty","touchObj","changedTouches","clientX","clientY","factor","wheelX","wheelY","addMouseWheelListener","wheelDeltaX","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","timeouts","callbackName","startX","startY","timer","clicks","eventNames",3,"isNewClick","clearTimeout","setTimeout","_clicks","metaKey","getModifierString","addCommandKeyListener","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","listener","data","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","last","stringReverse","string","reverse","stringRepeat","count","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","deepCopy","cons","arrayToMap","arr","createMap","props","arrayRemove","escapeRegExp","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","deferred","timeout","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","delay","dom","lang","BROKEN_SETDATA","USE_IE_MIME_TYPE","TextInput","host","resetSelection","isEmpty","inComposition","inputHandler","selectionStart","selectionEnd","text","setSelectionRange","resetValue","PLACEHOLDER","syncValue","onContextMenuClose","closeTimeout","tempStyle","renderer","$keepTextAreaAtCursor","$moveTextAreaToCursor","setAttribute","opacity","top","insertBefore","firstChild","copied","pasted","isSelectionEmpty","isFocused","activeElement","onBlur","onFocus","focus","blur","syncSelection","selection","isAllSelected","createTextRange","range","collapse","moveStart","moveEnd","select","ownerDocument","createRange","parentElement","inPropertyChange","onPropertyChange","syncProperty","sendText","keytable","onCompositionEnd","charCodeAt","onCompositionUpdate","onCompositionStart","onSelect","selectAll","setInputHandler","cb","getInputHandler","afterContextMenu","onPaste","execCommand","substring","substr","onTextInput","onInput","handleClipboardData","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","onCommandKey","$readOnly","on","session","markUndoGroup","clearSelection","val","lastValue","undo","r","getRange","setRange","c","syncComposition","getElement","setReadOnly","readOnly","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","rect","container","getBoundingClientRect","borderTopWidth","borderLeftWidth","maxTop","bottom","move","textInput","scroller","DefaultHandlers","mouseHandler","$clickSelection","editor","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","onTouchMove","selectByLines","extendSelectionBy","selectByWords","calcDistance","ax","ay","bx","by","sqrt","calcRangeOrientation","cursor","row","end","cmp","column","anchor","DRAG_OFFSET","ev","inSelection","getDocumentPosition","mousedownEvent","selectionRange","getSelectionRange","selectionEmpty","$blockScrolling","moveToPosition","time","$focusTimout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","y","getShiftKey","selectToPosition","setCapture","setStyle","comparePoint","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","distance","getBracketRange","getWordRange","isMultiLine","contains","getLineRange","getAccelKey","t","$lastScrollTime","isScrolable","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterHandler","showTooltip","mouseEvent","annotation","gutter","$annotations","hideTooltip","maxRow","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","tooltipAnnotation","tooltip","$tooltipFollowsMouse","moveTooltip","gutterElement","$cells","right","tooltipTimeout","$gutterLayer","GutterTooltip","gutterRegion","getRegion","selectTo","srcElement","isMousePressed","$gutter","windowWidth","innerWidth","windowHeight","innerHeight","MouseEvent","$inSelection","propagationStopped","DragdropHandler","prevCursor","vMovement","hMovement","cursorMovedTime","moveCursorToPosition","cursorPointOnCaretMoved","SCROLL_CURSOR_HYSTERESIS","SCROLL_CURSOR_DELAY","autoScroll","lineHeight","layerConfig","characterWidth","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScrollStartTime","AUTOSCROLL_DELAY","onDragInterval","dragCursor","addDragMarker","toOrientedRange","dragSelectionMarker","addMarker","getSelectionStyle","$cursorLayer","setBlinking","clearInterval","timerId","setInterval","counter","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","isInternal","getReadOnly","onMouseMoveTimer","canAccept","dataTransfer","types","getDropEffect","copyAllowed","moveAllowed","copyModifierState","effectAllowed","dropEffect","blankImage","src","dragOperation","mouseTarget","onDragStart","cancelDrag","draggable","setDragImage","clearData","getTextRange","onDragEnd","setCursorStyle","onDragEnter","onDragOver","onDragLeave","onDrop","moveText","dropData","dragWait","interval","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","clickCount","eventTarget","unselectable","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","path","s","onload","_","isAbort","qualifyURL","EventEmitter","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","_signal","once","newCallback","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","capturing","off","removeAllListeners","warn","message","reportError","msg","Error","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","getOption","opt","forwardTo","handlesSet","AppConfig","$defaultOptions","defineOptions","options","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","init","scriptOptions","scriptUrl","currentScript","_currentScript","currentDocument","scripts","script","getAttribute","attributes","j","attr","deHyphenate","m","basePath","workerPath","modePath","themePath","m1","toUpperCase","net","suffix","$moduleUrls","all","moduleUrl","component","parts","sep","re","setModuleUrl","subst","$loading","loadModule","onLoad","moduleType","afterLoad","DefaultGutterHandler","config","MouseHandler","focusEditor","hasFocus","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","gutterEl","$dragDelay","character","insideStart","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onCaptureInterval","$onCaptureMouseMove","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","getLine","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","commands","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","h","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","Boolean","$callKeyboardHandlers","toExecute","success","passEvent","comparePoints","p1","p2","Range","startRow","startColumn","endRow","endColumn","isEqual","compare","compareRange","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideEnd","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","clone","collapseRows","toScreenRange","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","Selection","getDocument","lead","selectionLead","createAnchor","selectionAnchor","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","getCursor","getPosition","getSelectionAnchor","getSelectionLead","shiftSelection","columns","moveCursorTo","isBackwards","$moveSelection","mover","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectWord","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","tabSize","getTabSize","isTabStop","firstColumnPosition","screenToDocumentPosition","beforeCursor","getDisplayLine","leadingSpace","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","line","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","ch","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","chars","screenPos","docPos","lineWidgets","keepDesiredColumn","moveCursorToScreen","desiredColumn","getRangeOfMovements","func","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","values","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","stateName","includeName","toInsert","noEscape","keywordMap","createKeywordMapper","splitChar","keywords","list","$keywordList","getKeywords","$keywords","Behaviour","$behaviours","action","addBehaviours","behaviours","inherit","mode","getBehaviours","addUnicodePackage","pack","codePoint","packages","L","Ll","Lu","Lt","Lm","Lo","M","Mn","Mc","Me","N","Nd","Nl","No","P","Pd","Ps","Pe","Pi","Pf","Pc","Po","S","Sm","Sc","Sk","So","Z","Zs","Zl","Zp","C","Cc","Cf","Co","Cs","Cn","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","rowCount","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","unicode","Mode","$behaviour","getTokenizer","$tokenizer","$highlightRules","lineCommentStart","blockComment","toggleCommentLines","iter","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","removeInLine","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","minEmptyLength","indent","toggleBlockComment","colDiff","iterator","initialRange","startRange","endRange","getNextLineIndent","tab","$getIndent","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$modes","delegations","scope","functionName","$delegator","method","transformAction","param","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","word","score","$id","applyDelta","docLines","delta","doNotValidate","lines","Anchor","$onChange","onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$getTransformedPoint","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$clipPositionToDocument","$insertRight","noClip","Document","textOrLines","$lines","insertMergedLines","setValue","len","getValue","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","startCol","endCol","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","MAX","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","cache","update","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","b","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","pointIndex","excludeEdges","startIndex","endIndex","addList","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","consumePoint","consumeRange","restorePoint","restoreRange","Fold","subFolds","subFold","collapseChildren","addSubFold","afterStart","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","docRow","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$useWrapMode","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","findMatchingBracket","getCommentFoldRange","dir","depth","getFoldWidget","getFoldWidgetRange","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","$findOpeningBracket","$brackets",")","(","]","[","{","}","bracket","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","onChangeFold","setMode","isFullWidth","bgTokenizer","resetCaches","$resetRowCache","$docRowCache","$screenRowCache","$getRowCacheIndex","cacheArray","low","hi","mid","$wrapData","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","ignore","$deltasDoc","$deltasFold","$informUndoManager","$deltas","setUndoManager","getUndoManager","reset","getSelection","undoManager","$syncInformUndoManager","group","execute","mergeUndoDeltas","$defaultUndoManager","redo","getTabString","setUseSoftTabs","$useSoftTabs","$mode","$indentWithTabs","setTabSize","$tabSize","$overwrite","setOverwrite","overwrite","getOverwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","markers","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","getScrollTop","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","w","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","lastUndoRange","$getUndoSelection","foldDelta","redoChanges","setUndoSelect","enable","isUndo","lastDeltaIsInsert","fromRange","toPosition","toRange","rowDiff","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","size","$moveLines","diff","$clipRowToDocument","Number","MAX_VALUE","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","getUseWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","CHAR","CHAR_EXT","PUNCTUATION","SPACE","TAB","TAB_SPACE","getWrapIndent","indentation","maxIndent","indentedSoftWrap","isCode","addSplit","displayed","lastSplit","splits","lastDocSplit","displayLength","$wrapAsCode","$indentedSoftWrap","minSplit","getScreenTabSize","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","rowCache","doCache","wrapIndent","splitIndex","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","destroy","wrap","$wrap","col","firstLineNumber","useSoftTabs","Search","find","$matchIterator","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","matchIterator","backwards","lineIterator","$lineIterator","_callback","$disableFakeMultiline","wholeWord","modifier","caseSensitive","$assembleMultilineRegExp","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","isDefault","other","otherPos","removeCommands","bindKeys","keyList","findKeyCommand","$keyChain","CommandManager","byName","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","prompt","gotoLine","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","firstLineEndCol","selectedText","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$mouseHandler","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","selections","startOperation","endOperation","$opResetTimer","curOp","docChanged","selectionChanged","prevOp","commadEvent","previousCommand","scrollSelectionIntoView","animateScrolling","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","handler","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","getSession","cursorPos","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$bracketHighlight","$highlightPending","getCursorPosition","getMatching","$highlightTags","$highlightTagPending","$tagHighlight","prevToken","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","updateLines","$updateHighlightActiveLine","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","startOuter","endOuter","lineCols","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","inVirtualSelectionMode","getBehavioursEnabled","transform","$mergeNextCommand","d","lineState","shouldOutdent","lineIndent","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","setShowInvisibles","showInvisibles","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","getWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","number","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","sel","endPoint","moved","totalDiff","rangeIndex","subRows","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","preventScroll","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$resetCursorStyle","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","behavioursEnabled","wrapBehavioursEnabled","autoScrollEditorIntoView","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","showLineNumbers","showGutter","displayIndentGuides","fontSize","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","foldStyle","UndoManager","$serializeDelta","$deserializeDelta","cloneDeltaSetsObj","deltaSets_old","fnGetModifiedDelta","deltaSets_new","deltaSet_old","deltaSet_new","delta_old","deltaSets","$doc","hasUndo","dirtyCounter","$undoStack","$redoStack","NaN","undoSelectionRange","$deserializeDeltas","redoSelectionRange","hasRedo","markClean","isClean","$serializeDeltas","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","rowInfo","annoText","gutterOffset","breakpoints","decorations","$firstLineNumber","lastLineNumber","gutterRenderer","$renderer","cell","textNode","foldWidget","getText","minHeight","$fixedWidth","padding","$padding","$computePadding","ceil","$showLineNumbers","setShowLineNumbers","getShowLineNumbers","paddingLeft","paddingRight","Marker","getBorderClass","tl","tr","br","bl","setPadding","setMarkers","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","firstRowScreen","stringBuilder","extraStyle","curr","lineRange","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","getLineHeight","$fontMetrics","$characterSize","getCharacterWidth","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","$tabStrings","tabStr","$indentGuideRe","spaceClass","tabClass","spaceContent","tabContent","scrollLines","lineElements","childNodes","lineElementsIdx","lineElement","$renderLine","$useLineGroups","oldConfig","lastChild","fragment","$renderLinesFragment","createDocumentFragment","$textToken","rparen","lparen","$renderToken","replaceReg","replaceFunc","tabIdx","idx4","classToUse","space","output","renderIndentGuide","cols","$renderWrappedLine","onlyContents","splitChars","$renderSimpleLine","$getFoldLineTokens","addTokens","renderTokens","$measureNode","isIE8","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateVisibility","$updateOpacity","visibility","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","getPixelPosition","onScreen","cursorLeft","cursorTop","$selectionMarkers","cursorIndex","pixelPos","drawCursor","$setOverwrite","ScrollBar","parent","classSuffix","setVisible","skipEvent","onScroll","VScrollBar","$scrollbarWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","change","CHAR_COUNT","FontMetrics","$setMeasureNodeStyles","$main","$testFractionalRect","isRoot","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","setPolling","$measureCharWidth","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","VirtualRenderer","content","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","maxHeight","v","$loop","$renderChanges","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_GUTTER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollHeight","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$updateGutterLineHighlight","$gutterLineHighlight","$printMarginEl","containerEl","posTop","posLeft","$composition","flint","setScrollMargin","sm","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","unfreeze","st","marginTop","marginLeft","$highlightGutterLine","$updateLines","$autosize","desiredHeight","$gutterWidth","hideScrollbars","screenLines","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","round","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","steps","x_min","dx","initialScroll","oldSteps","$timer","scrollTo","canvasPos","textToScreenCoordinates","pageX","pageY","keepTextAreaAtCursor","$themeId","cssClass","$theme","isDark","setMouseCursor","WorkerClient","topLevelNamespaces","classname","workerUrl","$sendDeltaQueue","changeListener","onMessage","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","Worker","DOMException","blob","$workerBlob","URL","webkitURL","blobURL","createObjectURL","revokeObjectURL","callbackId","callbacks","onmessage","err","deltaQueue","emit","ex","attachToDocument","q","Blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","blobBuilder","getBlob","UIWorkerClient","messageBuffer","main","emitSync","sender","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","selectionBefore","showOtherMarkers","othersActive","hideOtherMarkers","lengthDiff","distanceFromStart","newPos","undosRequired","isSamePoint","accel","selectionMode","isMultiSelect","mouseX","mouseY","onMouseSelection","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onMouseSelectionEnd","onSelectionInterval","selectMoreLines","selectMore","multiSelect","splitIntoLines","alignCursors","multiSelectCommands","isAvailable","MultiSelect","$multiselectOnSessionChange","$onAddRange","$onRemoveRange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","addAltCursorListeners","altCursor","altDown","getSelectionMarkers","$blockChangeEvents","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","yBackwards","docEnd","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","forEachSelection","keepOrder","$byLines","reg","cmdResult","anim","buf","nl","additive","skip","screenLead","toRemove","tmp","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","alignLeft","startW","textW","endW","alignRight","unAlign","isLeftAligned","isRightAligned","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","level","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","_inDocument","removeLineWidget","$updateRows","noWidgets","addLineWidget","zIndex","coverGutter","pixelHeight","onWidgetChanged","changedWidgets","fixedWidth","coverLine","binarySearch","comparator","findAnnotations","matched","oldWidget","gutterAnno","sc","arrow","onmousedown","Renderer","edit","_id","getElementById","env","tagName","oldNode","createEditSession","ace","DocCommentHighlightRules","getTagRule","getStartRule","getEndRule","JavaScriptHighlightRules","keywordMapper","variable.language","keyword","storage.type","constant.language","support.function","constant.language.boolean","kwBeforeRe","identifierRe","escapedRe","no_regex","regex_character_class","function_arguments","comment_regex_allowed","line_comment_regex_allowed","line_comment","qqstring","qstring","noES6","MatchingBraceOutdent","openBracePos","context","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","initContext","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","selected","opening","closing","CstyleBehaviour","isSaneInsertion","recordAutoInsert","recordMaybeInsert","rightChar","matching","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","next_indent","quote","leftChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","$matchTokenType","iterator2","BaseFoldMode","commentRegex","singleLineBlockCommentRe","tripleStarBlockCommentRe","startRegionRe","_getFoldWidgetBase","forceMultiline","getCommentRegionBlock","getSectionRange","startIndent","subRange","CStyleFoldMode","$outdent","tokenizedLine","endState","worker","results","XmlHighlightRules","normalize","tagRegex","xml_decl","processing_instruction","doctype","int_subset","cdata","reference","attr_reference","tag_whitespace","whitespace","attribute_value","embedTagRules","is","XmlBehaviour","rightSpace","firstChar","lastChar","tokenEnd","tokenRow","tokenColumn","voidElements","nextToken","nextIndent","optionalEndTags","Tag","selfClosing","_getFirstTagInLine","_findEndTagInLine","_readTagForward","_readTagBackward","_pop","firstTag","isBackward","XmlFoldMode","supportType","supportFunction","supportConstant","supportConstantColor","supportConstantFonts","numRe","pseudoElements","pseudoClasses","CssHighlightRules","support.constant","support.type","support.constant.color","support.constant.fonts","media","ruleset","CssBehaviour","tagMap","form","img","label","table","tbody","td","tfoot","th","HtmlHighlightRules","tag_stuff","defaultMode","subModes","$getMode","$tryMode","MixedFoldMode","optionalTags","js-","css-","findTagName","commonAttributes","eventAttributes","globalAttributes","attributeMap","title","noscript","section","nav","article","aside","h1","h2","h3","h4","h5","h6","header","footer","address","hr","pre","blockquote","ol","ul","li","dl","dd","figure","figcaption","div","em","strong","small","cite","dfn","abbr","code","var","samp","kbd","sub","sup","u","mark","ruby","rt","rp","bdi","bdo","span","wbr","ins","iframe","embed","video","audio","track","area","svg","math","caption","colgroup","thead","fieldset","legend","datalist","optgroup","keygen","progress","meter","details","summary","menu","dialog","elements","HtmlCompletions","getTagCompletions","getAttributeCompetions","attribute","snippet","JavaScriptMode","CssMode","HtmlFoldMode","fragmentContext","$completer","github_embed","escaped","MarkdownHighlightRules","basic","allowBlock","listblock-start","listblock","githubblock","isHeading","heading","getLevel","startHeadingLevel","XmlMode","HtmlMode","MarkdownFoldMode","xml-","html-"],"mappings":"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","file":"ace.js","sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\ndefine(\"ace/lib/regexp\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\n    var real = {\n            exec: RegExp.prototype.exec,\n            test: RegExp.prototype.test,\n            match: String.prototype.match,\n            replace: String.prototype.replace,\n            split: String.prototype.split\n        },\n        compliantExecNpcg = real.exec.call(/()??/, \"\")[1] === undefined, // check `exec` handling of nonparticipating capturing groups\n        compliantLastIndexIncrement = function () {\n            var x = /^/g;\n            real.test.call(x, \"\");\n            return !x.lastIndex;\n        }();\n\n    if (compliantLastIndexIncrement && compliantExecNpcg)\n        return;\n    RegExp.prototype.exec = function (str) {\n        var match = real.exec.apply(this, arguments),\n            name, r2;\n        if ( typeof(str) == 'string' && match) {\n            if (!compliantExecNpcg && match.length > 1 && indexOf(match, \"\") > -1) {\n                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), \"g\", \"\"));\n                real.replace.call(str.slice(match.index), r2, function () {\n                    for (var i = 1; i < arguments.length - 2; i++) {\n                        if (arguments[i] === undefined)\n                            match[i] = undefined;\n                    }\n                });\n            }\n            if (this._xregexp && this._xregexp.captureNames) {\n                for (var i = 1; i < match.length; i++) {\n                    name = this._xregexp.captureNames[i - 1];\n                    if (name)\n                       match[name] = match[i];\n                }\n            }\n            if (!compliantLastIndexIncrement && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n        }\n        return match;\n    };\n    if (!compliantLastIndexIncrement) {\n        RegExp.prototype.test = function (str) {\n            var match = real.exec.call(this, str);\n            if (match && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n            return !!match;\n        };\n    }\n\n    function getNativeFlags (regex) {\n        return (regex.global     ? \"g\" : \"\") +\n               (regex.ignoreCase ? \"i\" : \"\") +\n               (regex.multiline  ? \"m\" : \"\") +\n               (regex.extended   ? \"x\" : \"\") + // Proposed for ES4; included in AS3\n               (regex.sticky     ? \"y\" : \"\");\n    }\n\n    function indexOf (array, item, from) {\n        if (Array.prototype.indexOf) // Use the native array method if available\n            return array.indexOf(item, from);\n        for (var i = from || 0; i < array.length; i++) {\n            if (array[i] === item)\n                return i;\n        }\n        return -1;\n    }\n\n});\n\ndefine(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\nfunction Empty() {}\n\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) { // .length is 1\n        var target = this;\n        if (typeof target != \"function\") {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        var args = slice.call(arguments, 1); // for normal call\n        var bound = function () {\n\n            if (this instanceof bound) {\n\n                var result = target.apply(\n                    this,\n                    args.concat(slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                return target.apply(\n                    that,\n                    args.concat(slice.call(arguments))\n                );\n\n            }\n\n        };\n        if(target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            Empty.prototype = null;\n        }\n        return bound;\n    };\n}\nvar call = Function.prototype.call;\nvar prototypeOfArray = Array.prototype;\nvar prototypeOfObject = Object.prototype;\nvar slice = prototypeOfArray.slice;\nvar _toString = call.bind(prototypeOfObject.toString);\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\nif ([1,2].splice(0).length != 2) {\n    if(function() { // test IE < 9 to splice bug - see issue #138\n        function makeArray(l) {\n            var a = new Array(l+2);\n            a[0] = a[1] = 0;\n            return a;\n        }\n        var array = [], lengthBefore;\n        \n        array.splice.apply(array, makeArray(20));\n        array.splice.apply(array, makeArray(26));\n\n        lengthBefore = array.length; //46\n        array.splice(5, 0, \"XXX\"); // add one element\n\n        lengthBefore + 1 == array.length\n\n        if (lengthBefore + 1 == array.length) {\n            return true;// has right splice implementation without bugs\n        }\n    }()) {//IE 6/7\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n            if (!arguments.length) {\n                return [];\n            } else {\n                return array_splice.apply(this, [\n                    start === void 0 ? 0 : start,\n                    deleteCount === void 0 ? (this.length - start) : deleteCount\n                ].concat(slice.call(arguments, 2)))\n            }\n        };\n    } else {//IE8\n        Array.prototype.splice = function(pos, removeCount){\n            var length = this.length;\n            if (pos > 0) {\n                if (pos > length)\n                    pos = length;\n            } else if (pos == void 0) {\n                pos = 0;\n            } else if (pos < 0) {\n                pos = Math.max(length + pos, 0);\n            }\n\n            if (!(pos+removeCount < length))\n                removeCount = length - pos;\n\n            var removed = this.slice(pos, pos+removeCount);\n            var insert = slice.call(arguments, 2);\n            var add = insert.length;            \n            if (pos === length) {\n                if (add) {\n                    this.push.apply(this, insert);\n                }\n            } else {\n                var remove = Math.min(removeCount, length - pos);\n                var tailOldPos = pos + remove;\n                var tailNewPos = tailOldPos + add - remove;\n                var tailCount = length - tailOldPos;\n                var lengthAfterRemove = length - remove;\n\n                if (tailNewPos < tailOldPos) { // case A\n                    for (var i = 0; i < tailCount; ++i) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } else if (tailNewPos > tailOldPos) { // case B\n                    for (i = tailCount; i--; ) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } // else, add == remove (nothing to do)\n\n                if (add && pos === lengthAfterRemove) {\n                    this.length = lengthAfterRemove; // truncate array\n                    this.push.apply(this, insert);\n                } else {\n                    this.length = lengthAfterRemove + add; // reserves space\n                    for (i = 0; i < add; ++i) {\n                        this[pos+i] = insert[i];\n                    }\n                }\n            }\n            return removed;\n        };\n    }\n}\nif (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n        return _toString(obj) == \"[object Array]\";\n    };\n}\nvar boxedString = Object(\"a\"),\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    };\n}\nif (!Array.prototype.map) {\n    Array.prototype.map = function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self)\n                result[i] = fun.call(thisp, self[i], i, object);\n        }\n        return result;\n    };\n}\nif (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                    object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    };\n}\nif (!Array.prototype.every) {\n    Array.prototype.every = function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nif (!Array.prototype.some) {\n    Array.prototype.some = function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nif (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    };\n}\nif (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        do {\n            if (i in this) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    };\n}\nif (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Object.getPrototypeOf) {\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        return object.__proto__ || (\n            object.constructor ?\n            object.constructor.prototype :\n            prototypeOfObject\n        );\n    };\n}\nif (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" +\n                         \"non-object: \";\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT + object);\n        if (!owns(object, property))\n            return;\n\n        var descriptor, getter, setter;\n        descriptor =  { enumerable: true, configurable: true };\n        if (supportsAccessors) {\n            var prototype = object.__proto__;\n            object.__proto__ = prototypeOfObject;\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n            object.__proto__ = prototype;\n\n            if (getter || setter) {\n                if (getter) descriptor.get = getter;\n                if (setter) descriptor.set = setter;\n                return descriptor;\n            }\n        }\n        descriptor.value = object[property];\n        return descriptor;\n    };\n}\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\nif (!Object.create) {\n    var createEmpty;\n    if (Object.prototype.__proto__ === null) {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        createEmpty = function () {\n            var empty = {};\n            for (var i in empty)\n                empty[i] = null;\n            empty.constructor =\n            empty.hasOwnProperty =\n            empty.propertyIsEnumerable =\n            empty.isPrototypeOf =\n            empty.toLocaleString =\n            empty.toString =\n            empty.valueOf =\n            empty.__proto__ = null;\n            return empty;\n        }\n    }\n\n    Object.create = function create(prototype, properties) {\n        var object;\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype != \"object\")\n                throw new TypeError(\"typeof prototype[\"+(typeof prototype)+\"] != 'object'\");\n            var Type = function () {};\n            Type.prototype = prototype;\n            object = new Type();\n            object.__proto__ = prototype;\n        }\n        if (properties !== void 0)\n            Object.defineProperties(object, properties);\n        return object;\n    };\n}\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n    }\n}\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        if ((typeof descriptor != \"object\" && typeof descriptor != \"function\") || descriptor === null)\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n            }\n        }\n        if (owns(descriptor, \"value\")) {\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                delete object[property];\n                object[property] = descriptor.value;\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors)\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            if (owns(descriptor, \"get\"))\n                defineGetter(object, property, descriptor.get);\n            if (owns(descriptor, \"set\"))\n                defineSetter(object, property, descriptor.set);\n        }\n\n        return object;\n    };\n}\nif (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        for (var property in properties) {\n            if (owns(properties, property))\n                Object.defineProperty(object, property, properties[property]);\n        }\n        return object;\n    };\n}\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        return object;\n    };\n}\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        return object;\n    };\n}\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object == \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        return object;\n    };\n}\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        if (Object(object) === object) {\n            throw new TypeError(); // TODO message\n        }\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\nif (!Object.keys) {\n    var hasDontEnumBug = true,\n        dontEnums = [\n            \"toString\",\n            \"toLocaleString\",\n            \"valueOf\",\n            \"hasOwnProperty\",\n            \"isPrototypeOf\",\n            \"propertyIsEnumerable\",\n            \"constructor\"\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\"toString\": null}) {\n        hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n\n        if (\n            (typeof object != \"object\" && typeof object != \"function\") ||\n            object === null\n        ) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var keys = [];\n        for (var name in object) {\n            if (owns(object, name)) {\n                keys.push(name);\n            }\n        }\n\n        if (hasDontEnumBug) {\n            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                var dontEnum = dontEnums[i];\n                if (owns(object, dontEnum)) {\n                    keys.push(dontEnum);\n                }\n            }\n        }\n        return keys;\n    };\n\n}\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nif (!String.prototype.trim || ws.trim()) {\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n    String.prototype.trim = function trim() {\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    };\n}\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toString;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (typeof valueOf === \"function\") {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toString = input.toString;\n    if (typeof toString === \"function\") {\n        val = toString.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \"+o+\" to object\");\n    }\n    return Object(o);\n};\n\n});\n\ndefine(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/regexp\",\"ace/lib/es5-shim\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./regexp\");\nrequire(\"./es5-shim\");\n\n});\n\ndefine(\"ace/lib/dom\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n}\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = (el.className || \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if(add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n\n    if (doc.createStyleSheet && (sheets = doc.styleSheets)) {\n        while (index < sheets.length)\n            if (sheets[index++].owningElement.id === id) return true;\n    } else if ((sheets = doc.getElementsByTagName(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id) return true;\n    }\n\n    return false;\n};\n\nexports.importCssString = function importCssString(cssText, id, doc) {\n    doc = doc || document;\n    if (id && exports.hasCssString(id, doc))\n        return null;\n    \n    var style;\n    \n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    \n    if (doc.createStyleSheet) {\n        style = doc.createStyleSheet();\n        style.cssText = cssText;\n        if (id)\n            style.owningElement.id = id;\n    } else {\n        style = doc.createElementNS\n            ? doc.createElementNS(XHTML_NS, \"style\")\n            : doc.createElement(\"style\");\n\n        style.appendChild(doc.createTextNode(cssText));\n        if (id)\n            style.id = id;\n\n        exports.getDocumentHead(doc).appendChild(style);\n    }\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    if (doc.createStyleSheet) {\n        doc.createStyleSheet(uri);\n    } else {\n        var link = exports.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = uri;\n\n        exports.getDocumentHead(doc).appendChild(link);\n    }\n};\n\nexports.getInnerWidth = function(element) {\n    return (\n        parseInt(exports.computedStyle(element, \"paddingLeft\"), 10) +\n        parseInt(exports.computedStyle(element, \"paddingRight\"), 10) + \n        element.clientWidth\n    );\n};\n\nexports.getInnerHeight = function(element) {\n    return (\n        parseInt(exports.computedStyle(element, \"paddingTop\"), 10) +\n        parseInt(exports.computedStyle(element, \"paddingBottom\"), 10) +\n        element.clientHeight\n    );\n};\n\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\n\nif (typeof document == \"undefined\") {\n    exports.importCssString = function() {};\n    return;\n}\n\nif (window.pageYOffset !== undefined) {\n    exports.getPageScrollTop = function() {\n        return window.pageYOffset;\n    };\n\n    exports.getPageScrollLeft = function() {\n        return window.pageXOffset;\n    };\n}\nelse {\n    exports.getPageScrollTop = function() {\n        return document.body.scrollTop;\n    };\n\n    exports.getPageScrollLeft = function() {\n        return document.body.scrollLeft;\n    };\n}\n\nif (window.getComputedStyle)\n    exports.computedStyle = function(element, style) {\n        if (style)\n            return (window.getComputedStyle(element, \"\") || {})[style] || \"\";\n        return window.getComputedStyle(element, \"\") || {};\n    };\nelse\n    exports.computedStyle = function(element, style) {\n        if (style)\n            return element.currentStyle[style];\n        return element.currentStyle;\n    };\nexports.setInnerHtml = function(el, innerHtml) {\n    var element = el.cloneNode(false);//document.createElement(\"div\");\n    element.innerHTML = innerHtml;\n    el.parentNode.replaceChild(element, el);\n    return element;\n};\n\nif (\"textContent\" in document.documentElement) {\n    exports.setInnerText = function(el, innerText) {\n        el.textContent = innerText;\n    };\n\n    exports.getInnerText = function(el) {\n        return el.textContent;\n    };\n}\nelse {\n    exports.setInnerText = function(el, innerText) {\n        el.innerText = innerText;\n    };\n\n    exports.getInnerText = function(el) {\n        return el.innerText;\n    };\n}\n\nexports.getParentWindow = function(document) {\n    return document.defaultView || document.parentWindow;\n};\n\n});\n\ndefine(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\ndefine(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./fixoldbrowsers\");\n\nvar oop = require(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n          219: '[', 220: '\\\\',221: ']', 222: '\\''\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {            \n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\ndefine(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nif (typeof navigator != \"object\")\n    return;\n\nvar os = (navigator.platform.match(/mac|win|linux/i) || [\"other\"])[0].toLowerCase();\nvar ua = navigator.userAgent;\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (navigator.appName == \"Microsoft Internet Explorer\" || navigator.appName.indexOf(\"MSAppHost\") >= 0)\n    ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1])\n    : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]); // for ie\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = (window.Controllers || window.controllers) && window.navigator.product === \"Gecko\";\nexports.isOldGecko = exports.isGecko && parseInt((ua.match(/rv\\:(\\d+)/)||[])[1], 10) < 4;\nexports.isOpera = window.opera && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isIPad = ua.indexOf(\"iPad\") >= 0;\n\nexports.isTouchPad = ua.indexOf(\"TouchPad\") >= 0;\n\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\n});\n\ndefine(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\n\nexports.addListener = function(elem, type, callback) {\n    if (elem.addEventListener) {\n        return elem.addEventListener(type, callback, false);\n    }\n    if (elem.attachEvent) {\n        var wrapper = function() {\n            callback.call(elem, window.event);\n        };\n        callback._wrapper = wrapper;\n        elem.attachEvent(\"on\" + type, wrapper);\n    }\n};\n\nexports.removeListener = function(elem, type, callback) {\n    if (elem.removeEventListener) {\n        return elem.removeEventListener(type, callback, false);\n    }\n    if (elem.detachEvent) {\n        elem.detachEvent(\"on\" + type, callback._wrapper || callback);\n    }\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n    else\n        e.cancelBubble = true;\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n    else\n        e.returnValue = false;\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    if (e.preventDefault) {\n        return e.button;\n    }\n    else {\n        return {1:0, 2:2, 4:1}[e.button];\n    }\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        exports.removeListener(document, \"mousemove\", eventHandler, true);\n        exports.removeListener(document, \"mouseup\", onMouseUp, true);\n        exports.removeListener(document, \"dragstart\", onMouseUp, true);\n    }\n\n    exports.addListener(document, \"mousemove\", eventHandler, true);\n    exports.addListener(document, \"mouseup\", onMouseUp, true);\n    exports.addListener(document, \"dragstart\", onMouseUp, true);\n    \n    return onMouseUp;\n};\n\nexports.addTouchMoveListener = function (el, callback) {\n    if (\"ontouchmove\" in el) {\n        var startx, starty;\n        exports.addListener(el, \"touchstart\", function (e) {\n            var touchObj = e.changedTouches[0];\n            startx = touchObj.clientX;\n            starty = touchObj.clientY;\n        });\n        exports.addListener(el, \"touchmove\", function (e) {\n            var factor = 1,\n            touchObj = e.changedTouches[0];\n\n            e.wheelX = -(touchObj.clientX - startx) / factor;\n            e.wheelY = -(touchObj.clientY - starty) / factor;\n\n            startx = touchObj.clientX;\n            starty = touchObj.clientY;\n\n            callback(e);\n        });\n    } \n};\n\nexports.addMouseWheelListener = function(el, callback) {\n    if (\"onmousewheel\" in el) {\n        exports.addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        });\n    } else if (\"onwheel\" in el) {\n        exports.addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        });\n    } else {\n        exports.addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        });\n    }\n};\n\nexports.addMultiMouseDownListener = function(el, timeouts, eventHandler, callbackName) {\n    var clicks = 0;\n    var startX, startY, timer; \n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    exports.addListener(el, \"mousedown\", function(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null}, timeouts[clicks - 1] || 600);\n\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        \n        e._clicks = clicks;\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    });\n\n    if (useragent.isOldIE) {\n        exports.addListener(el, \"dblclick\", function(e) {\n            clicks = 2;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null}, timeouts[clicks - 1] || 600);\n            eventHandler[callbackName](\"mousedown\", e);\n            eventHandler[callbackName](eventNames[clicks], e);\n        });\n    }\n};\n\nvar getModifierHash = useragent.isMac && useragent.isOpera && !(\"KeyboardEvent\" in window)\n    ? function(e) {\n        return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);\n    }\n    : function(e) {\n        return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n    };\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (pressedKeys[91] || pressedKeys[92])\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n\n    if (hashId & 8 && (keyCode === 91 || keyCode === 93)) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    \n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\nvar pressedKeys = null;\nvar ts = 0;\nexports.addCommandKeyListener = function(el, callback) {\n    var addListener = exports.addListener;\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        });\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        });\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        });\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        });\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        });\n\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys(e) {\n    pressedKeys = Object.create(null);\n}\n\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + postMessageId;\n        exports.addListener(win, \"message\", function listener(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                exports.removeListener(win, \"message\", listener);\n                callback();\n            }\n        });\n        win.postMessage(messageName, \"*\");\n    };\n}\n\n\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\ndefine(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject( array[i] );\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    var cons = obj.constructor;\n    if (cons === RegExp)\n        return obj;\n    \n    copy = cons();\n    for (var key in obj) {\n        copy[key] = deepCopy(obj[key]);\n    }\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return str.replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\ndefine(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE =  useragent.isIE;\n\nvar TextInput = function(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    if (useragent.isTouchPad)\n        text.setAttribute(\"x-palm-disable-auto-cap\", true);\n\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n\n    text.style.opacity = \"0\";\n    if (useragent.isOldIE) text.style.top = \"-1000px\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var PLACEHOLDER = \"\\x01\\x01\";\n\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var tempStyle = '';\n    var isSelectionEmpty = true;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function(e) {\n        host.onBlur(e);\n        isFocused = false;\n    });\n    event.addListener(text, \"focus\", function(e) {\n        isFocused = true;\n        host.onFocus(e);\n        resetSelection();\n    });\n    this.focus = function() {\n        if (tempStyle) return text.focus();\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"-1000px\";\n        text.focus();\n        setTimeout(function() {\n            text.style.position = \"\";\n            if (text.style.top == \"-1000px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function() {\n        text.blur();\n    };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    var syncSelection = lang.delayedCall(function() {\n        isFocused && resetSelection(isSelectionEmpty);\n    });\n    var syncValue = lang.delayedCall(function() {\n         if (!inComposition) {\n            text.value = PLACEHOLDER;\n            isFocused && resetSelection();\n         }\n    });\n\n    function resetSelection(isEmpty) {\n        if (inComposition)\n            return;\n        inComposition = true;\n        \n        if (inputHandler) {\n            selectionStart = 0;\n            selectionEnd = isEmpty ? 0 : text.value.length - 1;\n        } else {\n            var selectionStart = isEmpty ? 2 : 1;\n            var selectionEnd = 2;\n        }\n        try {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        } catch(e){}\n        \n        inComposition = false;\n    }\n\n    function resetValue() {\n        if (inComposition)\n            return;\n        text.value = PLACEHOLDER;\n        if (useragent.isWebKit)\n            syncValue.schedule();\n    }\n\n    useragent.isWebKit || host.addEventListener('changeSelection', function() {\n        if (host.selection.isEmpty() != isSelectionEmpty) {\n            isSelectionEmpty = !isSelectionEmpty;\n            syncSelection.schedule();\n        }\n    });\n\n    resetValue();\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd === text.value.length;\n    };\n    if (!text.setSelectionRange && text.createTextRange) {\n        text.setSelectionRange = function(selectionStart, selectionEnd) {\n            var range = this.createTextRange();\n            range.collapse(true);\n            range.moveStart('character', selectionStart);\n            range.moveEnd('character', selectionEnd);\n            range.select();\n        };\n        isAllSelected = function(text) {\n            try {\n                var range = text.ownerDocument.selection.createRange();\n            }catch(e) {}\n            if (!range || range.parentElement() != text) return false;\n                return range.text == text.value;\n        }\n    }\n    if (useragent.isOldIE) {\n        var inPropertyChange = false;\n        var onPropertyChange = function(e){\n            if (inPropertyChange)\n                return;\n            var data = text.value;\n            if (inComposition || !data || data == PLACEHOLDER)\n                return;\n            if (e && data == PLACEHOLDER[0])\n                return syncProperty.schedule();\n\n            sendText(data);\n            inPropertyChange = true;\n            resetValue();\n            inPropertyChange = false;\n        };\n        var syncProperty = lang.delayedCall(onPropertyChange);\n        event.addListener(text, \"propertychange\", onPropertyChange);\n\n        var keytable = { 13:1, 27:1 };\n        event.addListener(text, \"keyup\", function (e) {\n            if (inComposition && (!text.value || keytable[e.keyCode]))\n                setTimeout(onCompositionEnd, 0);\n            if ((text.value.charCodeAt(0)||0) < 129) {\n                return syncProperty.call();\n            }\n            inComposition ? onCompositionUpdate() : onCompositionStart();\n        });\n        event.addListener(text, \"keydown\", function (e) {\n            syncProperty.schedule(50);\n        });\n    }\n\n    var onSelect = function(e) {\n        if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (inputHandler) {\n            resetSelection(host.selection.isEmpty());\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb};\n    this.getInputHandler = function() {return inputHandler};\n    var afterContextMenu = false;\n    \n    var sendText = function(data) {\n        if (inputHandler) {\n            data = inputHandler(data);\n            inputHandler = null;\n        }\n        if (pasted) {\n            resetSelection();\n            if (data)\n                host.onPaste(data);\n            pasted = false;\n        } else if (data == PLACEHOLDER.charAt(0)) {\n            if (afterContextMenu)\n                host.execCommand(\"del\", {source: \"ace\"});\n            else // some versions of android do not fire keydown when pressing backspace\n                host.execCommand(\"backspace\", {source: \"ace\"});\n        } else {\n            if (data.substring(0, 2) == PLACEHOLDER)\n                data = data.substr(2);\n            else if (data.charAt(0) == PLACEHOLDER.charAt(0))\n                data = data.substr(1);\n            else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n            if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n            \n            if (data)\n                host.onTextInput(data);\n        }\n        if (afterContextMenu)\n            afterContextMenu = false;\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return;\n        var data = text.value;\n        sendText(data);\n        resetValue();\n    };\n    \n    var handleClipboardData = function(e, data) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE ? \"Text\" : \"text/plain\";\n        if (data) {\n            return clipboardData.setData(mime, data) !== false;\n        } else {\n            return clipboardData.getData(mime);\n        }\n    };\n\n    var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        } else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetValue();\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    \n    var onCut = function(e) {\n        doCopy(e, true);\n    };\n    \n    var onCopy = function(e) {\n        doCopy(e, false);\n    };\n    \n    var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n    event.addListener(text, \"select\", onSelect);\n\n    event.addListener(text, \"input\", onInput);\n\n    event.addListener(text, \"cut\", onCut);\n    event.addListener(text, \"copy\", onCopy);\n    event.addListener(text, \"paste\", onPaste);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)){\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        });\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) \n            return;\n        inComposition = {};\n        host.onCompositionStart();\n        setTimeout(onCompositionUpdate, 0);\n        host.on(\"mousedown\", onCompositionEnd);\n        if (!host.selection.isEmpty()) {\n            host.insert(\"\");\n            host.session.markUndoGroup();\n            host.selection.clearSelection();\n        }\n        host.session.markUndoGroup();\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        var val = text.value.replace(/\\x01/g, \"\");\n        if (inComposition.lastValue === val) return;\n        \n        host.onCompositionUpdate(val);\n        if (inComposition.lastValue)\n            host.undo();\n        inComposition.lastValue = val;\n        if (inComposition.lastValue) {\n            var r = host.selection.getRange();\n            host.insert(inComposition.lastValue);\n            host.session.markUndoGroup();\n            inComposition.range = host.selection.getRange();\n            host.selection.setRange(r);\n            host.selection.clearSelection();\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        var c = inComposition;\n        inComposition = false;\n        var timer = setTimeout(function() {\n            timer = null;\n            var str = text.value.replace(/\\x01/g, \"\");\n            if (inComposition)\n                return;\n            else if (str == c.lastValue)\n                resetValue();\n            else if (!c.lastValue && str) {\n                resetValue();\n                sendText(str);\n            }\n        });\n        inputHandler = function compositionInputHandler(str) {\n            if (timer)\n                clearTimeout(timer);\n            str = str.replace(/\\x01/g, \"\");\n            if (str == c.lastValue)\n                return \"\";\n            if (c.lastValue && timer)\n                host.undo();\n            return str;\n        };\n        host.onCompositionEnd();\n        host.removeListener(\"mousedown\", onCompositionEnd);\n        if (e.type == \"compositionend\" && c.range) {\n            host.selection.setRange(c.range);\n        }\n    };\n    \n    \n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n\n    event.addListener(text, \"compositionstart\", onCompositionStart);\n    if (useragent.isGecko) {\n        event.addListener(text, \"text\", function(){syncComposition.schedule()});\n    } else {\n        event.addListener(text, \"keyup\", function(){syncComposition.schedule()});\n        event.addListener(text, \"keydown\", function(){syncComposition.schedule()});\n    }\n    event.addListener(text, \"compositionend\", onCompositionEnd);\n\n    this.getElement = function() {\n        return text;\n    };\n\n    this.setReadOnly = function(readOnly) {\n       text.readOnly = readOnly;\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection(host.selection.isEmpty());\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        this.moveToMouse(e, true);\n    };\n    \n    this.moveToMouse = function(e, bringToFront) {\n        if (!bringToFront && useragent.isOldIE)\n            return;\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + \"height:\" + text.style.height + \";\"\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\");\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight -2;\n        var move = function(e) {\n            text.style.left = e.clientX - left - 2 + \"px\";\n            text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        if (host.renderer.$keepTextAreaAtCursor)\n            host.renderer.$keepTextAreaAtCursor = null;\n        if (useragent.isWin && !useragent.isOldIE)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            if (host.renderer.$keepTextAreaAtCursor == null) {\n                host.renderer.$keepTextAreaAtCursor = true;\n                host.renderer.$moveTextAreaToCursor();\n            }\n        }, useragent.isOldIE ? 200 : 0);\n    }\n\n    var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n    event.addListener(text, \"contextmenu\", onContextMenu);\n};\n\nexports.TextInput = TextInput;\n});\n\ndefine(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n    editor.setDefaultHandler(\"touchmove\", this.onTouchMove.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            editor.$blockScrolling++;\n            if (selectionEmpty)\n                editor.selection.moveToPosition(pos);\n            editor.$blockScrolling--;\n            editor.textInput.onContextMenu(ev.domEvent);\n            return; // stopping event here breaks contextmenu on ff mac\n        }\n\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        editor.$blockScrolling++;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n        editor.$blockScrolling--;\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        editor.$blockScrolling++;\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.$blockScrolling--;\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        editor.$blockScrolling++;\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.$blockScrolling--;\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        } else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n\n        var t = ev.domEvent.timeStamp;\n        var dt = t - (this.$lastScrollTime||0);\n        \n        var editor = this.editor;\n        var isScrolable = editor.renderer.isScrollableBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n        if (isScrolable || dt < 200) {\n            this.$lastScrollTime = t;\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n    \n    this.onTouchMove = function (ev) {\n        var t = ev.domEvent.timeStamp;\n        var dt = t - (this.$lastScrollTime || 0);\n\n        var editor = this.editor;\n        var isScrolable = editor.renderer.isScrollableBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n        if (isScrolable || dt < 200) {\n            this.$lastScrollTime = t;\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\ndefine(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        dom.setInnerText(this.getElement(), text);\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\ndefine(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = gutter.$cells[editor.session.documentToScreenRow(row, 0)].element;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor.removeEventListener(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    });\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\ndefine(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\ndefine(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.addEventListener(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage.scrollTop = 0;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.renderer.$cursorLayer.setBlinking(true);\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler));\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler));\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.$blockScrolling += 1;\n            editor.moveCursorToPosition(cursor);\n            editor.$blockScrolling -= 1;\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.$blockScrolling += 1;\n        editor.selection.fromOrientedRange(range);\n        editor.$blockScrolling -= 1;\n        if (editor.isFocused() && !isInternal)\n            editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\ndefine(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function(url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n}\n\n});\n\ndefine(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    callback && this.addEventListener(eventName, function newCallback() {\n        _self.removeEventListener(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        var old = handlers[eventName];\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (this._eventRegistry) this._eventRegistry[eventName] = [];\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\ndefine(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"no use strict\";\n\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            optionNames = Object.keys(this.$options);\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\n\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function() { throw e; });\n}\n\nvar AppConfig = function() {\n    this.$defaultOptions = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function(obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = {forwardTo: opt};\n\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n\n        return this;\n    };\n\n    this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n\n    this.setDefaultValue = function(path, name, value) {\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n\n    this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    \n    this.warn = warn;\n    this.reportError = reportError;\n    \n}).call(AppConfig.prototype);\n\nexports.AppConfig = AppConfig;\n\n});\n\ndefine(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"], function(require, exports, module) {\n\"no use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\n\nmodule.exports = exports = new AppConfig();\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {}\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    options[key] = value;\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = require(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        require([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n};\ninit(true);function init(packaged) {\n\n    options.packaged = packaged || require.packaged || module.packaged || (global.define && define.packaged);\n\n    if (!global.document)\n        return \"\";\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n};\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\n});\n\ndefine(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar config = require(\"../config\");\n\nvar MouseHandler = function(editor) {\n    var _self = this;\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function(e) {\n        if (!document.hasFocus || !document.hasFocus())\n            window.focus();\n        editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"));\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"));\n    event.addMultiMouseDownListener(mouseTarget, [400, 300, 250], this, \"onMouseEvent\");\n    if (editor.renderer.scrollBarV) {\n        event.addMultiMouseDownListener(editor.renderer.scrollBarV.inner, [400, 300, 250], this, \"onMouseEvent\");\n        event.addMultiMouseDownListener(editor.renderer.scrollBarH.inner, [400, 300, 250], this, \"onMouseEvent\");\n        if (useragent.isIE) {\n            event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor);\n            event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor);\n        }\n    }\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"));\n    event.addTouchMoveListener(editor.container, this.onTouchMove.bind(this, \"touchmove\"));\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"));\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"));\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"));\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"));\n\n    event.addListener(mouseTarget, \"mousedown\", focusEditor);\n\n    event.addListener(gutterEl, \"mousedown\", function(e) {\n        editor.focus();\n        return event.preventDefault(e);\n    });\n\n    editor.on(\"mousemove\", function(e){\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        } else {\n            renderer.setCursorStyle(\"\");\n        }\n    });\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n    \n    this.onTouchMove = function (name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = 1;//this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n        this.editor._emit(name, mouseEvent);\n    };\n\n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var renderer = this.editor.renderer;\n        if (renderer.$keepTextAreaAtCursor)\n            renderer.$keepTextAreaAtCursor = null;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            if (!e) return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            if (renderer.$keepTextAreaAtCursor == null) {\n                renderer.$keepTextAreaAtCursor = true;\n                renderer.$moveTextAreaToCursor();\n            }\n            self.isMousePressed = false;\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function() {\n        var stop = function(e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},\n    dragEnabled: {initialValue: true},\n    focusTimout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\ndefine(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\ndefine(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil  = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {editor: editor};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    \n    this.getStatusText = function() {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function(h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);                \n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        var success = this.$callKeyboardHandlers(-1, text);\n        if (!success)\n            this.$editor.commands.exec(\"insertstring\", this.$editor, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\ndefine(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            };\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0)\n        else\n            return new Range(this.start.row, 0, this.end.row, 0)\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\ndefine(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.lead = this.selectionLead = this.doc.createAnchor(0, 0);\n    this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);\n\n    var self = this;\n    this.lead.on(\"change\", function(e) {\n        self._emit(\"changeCursor\");\n        if (!self.$isEmpty)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.selectionAnchor.on(\"change\", function() {\n        if (!self.$isEmpty)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return (this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        ));\n    };\n    this.isMultiLine = function() {\n        if (this.isEmpty()) {\n            return false;\n        }\n\n        return this.getRange().isMultiLine();\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.anchor.setPosition(row, column);\n\n        if (this.$isEmpty) {\n            this.$isEmpty = false;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        else\n            return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.shiftSelection = function(columns) {\n        if (this.$isEmpty) {\n            this.moveCursorTo(this.lead.row, this.lead.column + columns);\n            return;\n        }\n\n        var anchor = this.getSelectionAnchor();\n        var lead = this.getSelectionLead();\n\n        var isBackwards = this.isBackwards();\n\n        if (!isBackwards || anchor.column !== 0)\n            this.setSelectionAnchor(anchor.row, anchor.column + columns);\n\n        if (isBackwards || lead.column !== 0) {\n            this.$moveSelection(function() {\n                this.moveCursorTo(lead.row, lead.column + columns);\n            });\n        }\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.isEmpty())\n            return Range.fromPoints(lead, lead);\n\n        if (this.isBackwards()) {\n            return Range.fromPoints(lead, anchor);\n        }\n        else {\n            return Range.fromPoints(anchor, lead);\n        }\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        var lastRow = this.doc.getLength() - 1;\n        this.setSelectionAnchor(0, 0);\n        this.moveCursorTo(lastRow, this.doc.getLine(lastRow).length);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        if (reverse) {\n            this.setSelectionAnchor(range.end.row, range.end.column);\n            this.selectTo(range.start.row, range.start.column);\n        } else {\n            this.setSelectionAnchor(range.start.row, range.start.column);\n            this.selectTo(range.end.row, range.end.column);\n        }\n        if (this.getRange().isEmpty())\n            this.$isEmpty = true;\n        this.$desiredColumn = null;\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column-tabSize, cursor.column).split(\" \").length-1 == tabSize)\n                this.moveCursorBy(0, -tabSize);\n            else\n                this.moveCursorBy(0, -1);\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(cursor.column, cursor.column+tabSize).split(\" \").length-1 == tabSize)\n                this.moveCursorBy(0, tabSize);\n            else\n                this.moveCursorBy(0, 1);\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var match;\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (match = this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (match = this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        var match;\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (match = this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (match = this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var match, index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (match = this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        if (chars === 0) {\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n\n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            if (this.session.lineWidgets && this.session.lineWidgets[docPos.row])\n                docPos.row++;\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function(func) {\n        var start = this.getCursor();\n        try {\n            func.call(null, this);\n            var end = this.getCursor();\n            return Range.fromPoints(start,end);\n        } catch(e) {\n            return Range.fromPoints(start,start);\n        } finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else\n                data = data[0];\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\ndefine(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", { \n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        \n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    },\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\[(?:\\\\.|[^\\]])*?\\]|\\\\.|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift()\n                startState = stack.shift()\n            }\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    } else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    \n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                break;\n            }\n\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 2000),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n    \n    this.reportError = config.reportError;\n    \n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\ndefine(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next != \"string\") {\n                        if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                            rule.nextState = prefix + rule.nextState;\n                    } else {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                if (rule.include || typeof rule == \"string\") {\n                    var includeName = rule.include || rule;\n                    var toInsert = rules[includeName];\n                } else if (Array.isArray(rule))\n                    toInsert = rule;\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                    toInsert = null;\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            if (ignoreCase)\n                a = a.toLowerCase();\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; )\n                keywords[list[i]] = className;\n        });\n        if (Object.getPrototypeOf(keywords)) {\n            keywords.__proto__ = null;\n        }\n        this.$keywordList = Object.keys(keywords);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken }\n            : function(value) {return keywords[value] || defaultToken };\n    };\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\ndefine(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    }\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    }\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    }\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    }\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {}\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    }\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\n\ndefine(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nexports.packages = {};\n\naddUnicodePackage({\n    L:  \"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    Ll: \"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A\",\n    Lu: \"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A\",\n    Lt: \"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC\",\n    Lm: \"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F\",\n    Lo: \"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    M:  \"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26\",\n    Mn: \"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26\",\n    Mc: \"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC\",\n    Me: \"0488048906DE20DD-20E020E2-20E4A670-A672\",\n    N:  \"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nd: \"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nl: \"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF\",\n    No: \"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835\",\n    P:  \"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65\",\n    Pd: \"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D\",\n    Ps: \"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62\",\n    Pe: \"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63\",\n    Pi: \"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20\",\n    Pf: \"00BB2019201D203A2E032E052E0A2E0D2E1D2E21\",\n    Pc: \"005F203F20402054FE33FE34FE4D-FE4FFF3F\",\n    Po: \"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65\",\n    S:  \"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD\",\n    Sm: \"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC\",\n    Sc: \"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6\",\n    Sk: \"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3\",\n    So: \"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD\",\n    Z:  \"002000A01680180E2000-200A20282029202F205F3000\",\n    Zs: \"002000A01680180E2000-200A202F205F3000\",\n    Zl: \"2028\",\n    Zp: \"2029\",\n    C:  \"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF\",\n    Cc: \"0000-001F007F-009F\",\n    Cf: \"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB\",\n    Co: \"E000-F8FF\",\n    Cs: \"D800-DFFF\",\n    Cn: \"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF\"\n});\n\nfunction addUnicodePackage (pack) {\n    var codePoint = /\\w{4}/g;\n    for (var name in pack)\n        exports.packages[name] = pack[name].replace(codePoint, \"\\\\u$&\");\n};\n\n});\n\ndefine(\"ace/token_iterator\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n    this.getCurrentTokenPosition = function() {\n        return {row: this.$row, column: this.getCurrentTokenColumn()};\n    };\n            \n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\ndefine(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar Behaviour = require(\"./behaviour\").Behaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n    this.$behaviour = new Behaviour();\n};\n\n(function() {\n\n    this.tokenRe = new RegExp(\"^[\"\n        + unicode.packages.L\n        + unicode.packages.Mn + unicode.packages.Mc\n        + unicode.packages.Nd\n        + unicode.packages.Pc + \"\\\\$_]+\", \"g\"\n    );\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\"\n        + unicode.packages.L\n        + unicode.packages.Mn + unicode.packages.Mc\n        + unicode.packages.Nd\n        + unicode.packages.Pc + \"\\\\$_]|\\\\s])+\", \"g\"\n    );\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules();\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === 'comment')\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n                return true;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                this.$embeds.push(i);\n                this.$modes[i] = new mapping[i]();\n            }\n        }\n\n        var delegations = ['toggleBlockComment', 'toggleCommentLines', 'getNextLineIndent', \n            'checkOutdent', 'autoOutdent', 'transformAction', 'getCompletions'];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            } (this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0];\n        if (typeof state != \"string\")\n            state = state[0];\n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n           position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n       throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n\nexports.applyDelta = function(docLines, delta, doNotValidate) {\n    \n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n    }\n}\n});\n\ndefine(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n            \n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    \n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n            \n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        \n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.removeEventListener(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\ndefine(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({row: 0, column: 0}, textOrLines);\n    } else {\n        this.insert({row: 0, column:0}, textOrLines);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    } else {\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\\'\\', \\'\\']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function(position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        \n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        \n        return this.clonePos(end);\n    };\n    \n    this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    };\n    \n    this.clonePos = function(pos) {\n        return {row: pos.row, column: pos.column};\n    };\n    \n    this.pos = function(row, column) {\n        return {row: row, column: column};\n    };\n    \n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({row: row, column: column}, lines);\n    };    \n    this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        \n        return this.clonePos(end);\n    };\n    this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n        \n        return this.clonePos(start);\n    };\n    this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); \n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        \n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function(range, text) {\n        if (!range instanceof Range)\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        \n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        \n        if (isInsert && delta.lines.length > 20000)\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        applyDelta(this.$lines, delta, doNotValidate);\n        this._signal(\"change\", delta);\n    };\n    \n    this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length;\n        var row = delta.start.row; \n        var column = delta.start.column;\n        var from = 0, to = 0;\n        do {\n            from = to;\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            if (to > l) {\n                delta.lines = chunk;\n                delta.start.row = row + from;\n                delta.start.column = column;\n                break;\n            }\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        } while(true);\n    };\n    this.revertDelta = function(delta) {\n        this.applyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: lines[l-1].length};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n\ndefine(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        \n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {                \n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    }\n\n    this.$updateOnChange = function(delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\ndefine(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\ndefine(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            cmp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n\n    this.split = function(row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        \n        if (!pos || pos.kind == \"inside\")\n            return null;\n            \n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        \n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\ndefine(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.call(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(delta) {\n        if (delta.action == \"insert\"){\n            var start = delta.start;\n            var end = delta.end;\n        } else {\n            var end = delta.start;\n            var start = delta.end;\n        }\n        var startRow = start.row;\n        var endRow = end.row;\n        var lineDif = endRow - startRow;\n\n        var colDiff = -start.column + end.column;\n        var ranges = this.ranges;\n\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row < startRow)\n                continue;\n            if (r.start.row > startRow)\n                break;\n\n            if (r.start.row == startRow && r.start.column >= start.column ) {\n                if (r.start.column == start.column && this.$insertRight) {\n                } else {\n                    r.start.column += colDiff;\n                    r.start.row += lineDif;\n                }\n            }\n            if (r.end.row == startRow && r.end.column >= start.column) {\n                if (r.end.column == start.column && this.$insertRight) {\n                    continue;\n                }\n                if (r.end.column == start.column && colDiff > 0 && i < n - 1) {                \n                    if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                        r.end.column -= colDiff;\n                }\n                r.end.column += colDiff;\n                r.end.row += lineDif;\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\ndefine(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\")\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n\n        if (!this.range.containsRange(fold))\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n\n        if (cmp == 0)\n            return afterStart.addSubFold(fold);\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterEnd = this.subFolds[j];\n\n        if (cmp == 0)\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\ndefine(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var fold = folds[i];\n            if (fold.range.contains(row, column)) {\n                if (side == 1 && fold.range.isEnd(row, column)) {\n                    continue;\n                } else if (side == -1 && fold.range.isStart(row, column)) {\n                    continue;\n                }\n                return fold;\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    }\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if(start < last) {\n                    if(start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0;//in one fold\n                }\n                break;\n            } else if(end >= first){\n                if (start >= first) //fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        if (!(startRow < endRow || \n            startRow == endRow && startColumn <= endColumn - 2))\n            throw new Error(\"The range has to be at least 2 characters width\");\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        \n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            folds.forEach(function(subFold) {\n                fold.addSubFold(subFold);\n            });\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._emit(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._emit(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner) {\n            this.removeFolds(folds);\n        } else {\n            var subFolds = folds;\n            while (subFolds.length) {\n                this.expandFolds(subFolds);\n                subFolds = this.getFoldsInRangeList(range);\n            }\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if(placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        if (token && /^comment|string/.test(token.type)) {\n            var range = new Range();\n            var re = new RegExp(token.type.replace(/\\..*/, \"\\\\.\"));\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while(token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                do {\n                    token = iterator.stepForward();\n                } while(token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                try {\n                    var fold = this.addFold(\"...\", range);\n                    if (fold)\n                        fold.collapseChildren = depth;\n                } catch(e) {}\n            }\n        }\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._emit(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    }\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement)\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function(e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    }\n}\n\nexports.Folding = Folding;\n\n});\n\ndefine(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column-1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\ndefine(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    };\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.setDocument(text);\n    this.selection = new Selection(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(delta) {\n        this.$modified = true;\n\n        this.$resetRowCache(delta.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager && !delta.ignore) {\n            this.$deltasDoc.push(delta);\n            if (removedFolds && removedFolds.length != 0) {\n                this.$deltasFold.push({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                });\n            }\n\n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.$deltas = [];\n        this.$deltasDoc = [];\n        this.$deltasFold = [];\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        this.$deltas = [];\n        this.$deltasDoc = [];\n        this.$deltasFold = [];\n\n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n\n        if (undoManager) {\n            var self = this;\n\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n\n                if (self.$deltasFold.length) {\n                    self.$deltas.push({\n                        group: \"fold\",\n                        deltas: self.$deltasFold\n                    });\n                    self.$deltasFold = [];\n                }\n\n                if (self.$deltasDoc.length) {\n                    self.$deltas.push({\n                        group: \"doc\",\n                        deltas: self.$deltasDoc\n                    });\n                    self.$deltasDoc = [];\n                }\n\n                if (self.$deltas.length > 0) {\n                    undoManager.execute({\n                        action: \"aceupdate\",\n                        args: [self.$deltas, self],\n                        merge: self.mergeUndoDeltas\n                    });\n                }\n                self.mergeUndoDeltas = false;\n                self.$deltas = [];\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        reset: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        if (marker) {\n            delete (markers[markerId]);\n            this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n        }\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = {};\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            } else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.addEventListener !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.addEventListener(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.addEventListener(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\");\n        }\n    };\n\n    this.$stopWorker = function() {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n\n    this.$startWorker = function() {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        } catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function(firstRow, lastRow){\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        var lastUndoRange = null;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.group == \"doc\") {\n                this.doc.revertDeltas(delta.deltas);\n                lastUndoRange =\n                    this.$getUndoSelection(delta.deltas, true, lastUndoRange);\n            } else {\n                delta.deltas.forEach(function(foldDelta) {\n                    this.addFolds(foldDelta.folds);\n                }, this);\n            }\n        }\n        this.$fromUndo = false;\n        lastUndoRange &&\n            this.$undoSelect &&\n            !dontSelect &&\n            this.selection.setSelectionRange(lastUndoRange);\n        return lastUndoRange;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        var lastUndoRange = null;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.group == \"doc\") {\n                this.doc.applyDeltas(delta.deltas);\n                lastUndoRange =\n                    this.$getUndoSelection(delta.deltas, false, lastUndoRange);\n            }\n        }\n        this.$fromUndo = false;\n        lastUndoRange &&\n            this.$undoSelect &&\n            !dontSelect &&\n            this.selection.setSelectionRange(lastUndoRange);\n        return lastUndoRange;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo, lastUndoRange) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n\n        var delta = deltas[0];\n        var range, point;\n        var lastDeltaIsInsert = false;\n        if (isInsert(delta)) {\n            range = Range.fromPoints(delta.start, delta.end);\n            lastDeltaIsInsert = true;\n        } else {\n            range = Range.fromPoints(delta.start, delta.start);\n            lastDeltaIsInsert = false;\n        }\n\n        for (var i = 1; i < deltas.length; i++) {\n            delta = deltas[i];\n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n                lastDeltaIsInsert = true;\n            } else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                lastDeltaIsInsert = false;\n            }\n        }\n        if (lastUndoRange != null) {\n            if (Range.comparePoints(lastUndoRange.start, range.start) === 0) {\n                lastUndoRange.start.column += range.end.column - range.start.column;\n                lastUndoRange.end.column += range.end.column - range.start.column;\n            }\n\n            var cmp = lastUndoRange.compareRange(range);\n            if (cmp == 1) {\n                range.setStart(lastUndoRange.start);\n            } else if (cmp == -1) {\n                range.setEnd(lastUndoRange.end);\n            }\n        }\n\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.doc.insertInLine({row: row, column: 0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        \n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        \n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var displayed = tokens.slice(lastSplit, screenPos);\n            var len = displayed.length;\n            displayed.join(\"\").\n                replace(/12/g, function() {\n                    len -= 1;\n                }).\n                replace(/2/g, function() {\n                    len -= 1;\n                });\n\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        if (this.lineWidgets)\n            var h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n\n    this.getRowWrapIndent = function(screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        } else {\n            return 0;\n        }\n    }\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - screenColumn % this.$tabSize;\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                var splitIndex = Math.floor(screenRow - row);\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n    };\n    \n    this.destroy = function() {\n        if (this.bgTokenizer) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer = null;\n        }\n        this.$stopWorker();\n    };\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    };\n\n}).call(EditSession.prototype);\n\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$modified = true;\n                    this.$resetRowCache(0);\n                    this.$updateWrapData(0, this.getLength() - 1);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: { initialValue: true },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            if (isNaN(tabSize) || this.$tabSize === tabSize) return;\n\n            this.$modified = true;\n            this.$rowLengthCache = [];\n            this.$tabSize = tabSize;\n            this._signal(\"changeTabSize\");\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val)},\n        get: function() {return this.doc.getNewLineMode()},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val) },\n        get: function() { return this.$modeId }\n    }\n});\n\nexports.EditSession = EditSession;\n});\n\ndefine(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(range, row, offset) {\n            if (!range.start) {\n                var column = range.offset + (offset || 0);\n                firstRange = new Range(row, column, row, column + range.length);\n                if (!range.length && options.start && options.start.start\n                    && options.skipCurrent != false && firstRange.isEqual(options.start)\n                ) {\n                    firstRange = null;\n                    return false;\n                }\n            } else\n                firstRange = range;\n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n\n        var callback;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var matchIterator = function(line, row, offset) {\n                var startIndex = line.search(re[0]);\n                if (startIndex == -1)\n                    return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(row + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n\n                var endIndex = line.match(re[len - 1])[0].length;\n\n                var range = new Range(row, startIndex, row + len - 1, endIndex);\n                if (re.offset == 1) {\n                    range.start.row--;\n                    range.start.column = Number.MAX_VALUE;\n                } else if (offset)\n                    range.start.column += offset;\n\n                if (callback(range))\n                    return true;\n            };\n        } else if (options.backwards) {\n            var matchIterator = function(line, row, startIndex) {\n                var matches = lang.getMatchOffsets(line, re);\n                for (var i = matches.length-1; i >= 0; i--)\n                    if (callback(matches[i], row, startIndex))\n                        return true;\n            };\n        } else {\n            var matchIterator = function(line, row, startIndex) {\n                var matches = lang.getMatchOffsets(line, re);\n                for (var i = 0; i < matches.length; i++)\n                    if (callback(matches[i], row, startIndex))\n                        return true;\n            };\n        }\n        \n        var lineIterator = this.$lineIterator(session, options);\n\n        return {\n            forEach: function(_callback) {\n                callback = _callback;\n                lineIterator.forEach(matchIterator);\n            }\n        };\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = \"\\\\b\" + needle + \"\\\\b\";\n\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        if (parts[0] == \"\") {\n            re.shift();\n            re.offset = 1;\n        } else {\n            re.offset = 0;\n        }\n        return re;\n    };\n\n    this.$lineIterator = function(session, options) {\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n\n        var forEach = backwards ? function(callback) {\n                var row = start.row;\n\n                var line = session.getLine(row).substring(0, start.column);\n                if (callback(line, row))\n                    return;\n\n                for (row--; row >= firstRow; row--)\n                    if (callback(session.getLine(row), row))\n                        return;\n\n                if (options.wrap == false)\n                    return;\n\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (callback(session.getLine(row), row))\n                        return;\n            } : function(callback) {\n                var row = start.row;\n\n                var line = session.getLine(row).substr(start.column);\n                if (callback(line, row, start.column))\n                    return;\n\n                for (row = row+1; row <= lastRow; row++)\n                    if (callback(session.getLine(row), row))\n                        return;\n\n                if (options.wrap == false)\n                    return;\n\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (callback(session.getLine(row), row))\n                        return;\n            };\n        \n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nexports.Search = Search;\n});\n\ndefine(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\n\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\n\nMultiHashHandler.prototype = HashHandler.prototype;\n\n(function() {\n    \n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            } else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n\n    this.bindKey = function(key, command, position) {\n        if (typeof key == \"object\") {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({exec: command, bindKey: key, name: command.name || key});\n        \n        key.split(\"|\").forEach(function(keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function(keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    \n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position || 0;\n    }\n    this._addCommandToBinding = function(keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        } else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        } else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n\n            if (typeof position != \"number\") {\n                if (position || command.isDefault)\n                    position = -100;\n                else\n                   position = getPosition(command);\n            }\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function(keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        \n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return {command: \"null\"};\n            }\n        }\n        \n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return {command: command};\n    };\n    \n    this.getStatusText = function(editor, data) {\n        return data.$keyChain || \"\";\n    };\n\n}).call(HashHandler.prototype);\n\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n});\n\ndefine(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, MultiHashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--; ) {\n                if (this.exec(command[i], editor, args)) return true;\n            }\n            return false;\n        }\n        \n        if (typeof command === \"string\")\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.removeEventListener(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\ndefine(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"Ctrl-E\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Ctrl-Shift-E\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor) {\n        var line = parseInt(prompt(\"Enter line number:\"), 10);\n        if (!isNaN(line)) {\n            editor.gotoLine(line);\n        }\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor)});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    bindKey: bindKey(\"Ctrl-P\", \"Ctrl-P\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    bindKey: bindKey(\"Ctrl-Shift-P\", \"Ctrl-Shift-P\"),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"expandToMatching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function(editor) { editor.jumpToMatching(true, true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"passKeysToBrowser\",\n    bindKey: bindKey(null, null),\n    exec: function() {},\n    passEvent: true,\n    readOnly: true\n}, {\n    name: \"copy\",\n    exec: function(editor) {\n    },\n    readOnly: true\n},\n{\n    name: \"cut\",\n    exec: function(editor) {\n        var range = editor.getSelectionRange();\n        editor._emit(\"cut\", range);\n\n        if (!editor.selection.isEmpty()) {\n            editor.session.remove(range);\n            editor.clearSelection();\n        }\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"paste\",\n    exec: function(editor, args) {\n        editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removeline\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true)});\n    }\n}, {\n    name: \"undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    bindKey: bindKey(\"Ctrl-T\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"expandtoline\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n\n        range.start.column = range.end.column = 0;\n        range.end.row++;\n        editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"joinlines\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var isBackwards = editor.selection.isBackwards();\n        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n        var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n        var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n            if (curLine.length !== 0) {\n                curLine = \" \" + curLine;\n            }\n            insertLine += curLine;\n        }\n\n        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n            insertLine += editor.session.doc.getNewLineCharacter();\n        }\n\n        editor.clearSelection();\n        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n        if (selectedCount > 0) {\n            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n        } else {\n            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n        }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"invertSelection\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var endRow = editor.session.doc.getLength() - 1;\n        var endCol = editor.session.doc.getLine(endRow).length;\n        var ranges = editor.selection.rangeList.ranges;\n        var newRanges = [];\n        if (ranges.length < 1) {\n            ranges = [editor.selection.getRange()];\n        }\n\n        for (var i = 0; i < ranges.length; i++) {\n            if (i == (ranges.length - 1)) {\n                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                }\n            }\n\n            if (i === 0) {\n                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                }\n            } else {\n                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));\n            }\n        }\n\n        editor.exitMultiSelectMode();\n        editor.clearSelection();\n\n        for(var i = 0; i < newRanges.length; i++) {\n            editor.selection.addRange(newRanges[i], false);\n        }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n}];\n\n});\n\ndefine(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\nvar Editor = function(renderer, session) {\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    this.textInput  = new TextInput(renderer.getTextAreaContainer(), this);\n    this.renderer.textarea = this.textInput.getElement();\n    this.keyBinding = new KeyBinding(this);\n    this.$mouseHandler = new MouseHandler(this);\n    new FoldHandler(this);\n\n    this.$blockScrolling = 0;\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        if (this.session && this.session.bgTokenizer)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || new EditSession(\"\"));\n    config.resetOptions(this);\n    config._signal(\"editor\", this);\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        function last(a) {return a[a.length - 1]}\n\n        this.selections = [];\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this));\n\n        this.on(\"change\", function() {\n            this.curOp || this.startOperation();\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n\n        this.on(\"changeSelection\", function() {\n            this.curOp || this.startOperation();\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commadEvent) {\n        if (this.curOp) {\n            if (!commadEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commadEvent) {\n            this.previousCommand = null;\n            commadEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = {\n            command: commadEvent.command || {},\n            args: commadEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        if (this.curOp.command.name && this.curOp.command.scrollIntoView !== undefined)\n            this.$blockScrolling++;\n    };\n\n    this.endOperation = function(e) {\n        if (this.curOp) {\n            if (e && e.returnValue === false)\n                return this.curOp = null;\n            this._signal(\"beforeEndOperation\");\n            var command = this.curOp.command;\n            if (command.name && this.$blockScrolling > 0)\n                this.$blockScrolling--;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            \n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n        if (this.curOp) this.endOperation();\n        this.curOp = {};\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.removeEventListener(\"change\", this.$onDocumentChange);\n            this.session.removeEventListener(\"changeMode\", this.$onChangeMode);\n            this.session.removeEventListener(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.removeEventListener(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.removeEventListener(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.removeEventListener(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.removeEventListener(\"onChangeFold\", this.$onChangeFold);\n            this.session.removeEventListener(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.removeEventListener(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.removeEventListener(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.removeEventListener(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.removeEventListener(\"changeOverwrite\", this.$onCursorChange);\n            this.session.removeEventListener(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.removeEventListener(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n            selection.removeEventListener(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.addEventListener(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.addEventListener(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.addEventListener(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.addEventListener(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.addEventListener(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.addEventListener(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.addEventListener(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.addEventListener(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.addEventListener(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.addEventListener(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.addEventListener(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.addEventListener(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.addEventListener(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.addEventListener(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.addEventListener(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.addEventListener(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.$blockScrolling += 1;\n            this.onCursorChange();\n            this.$blockScrolling -= 1;\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        } else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        this.curOp = null;\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container, \"fontSize\");\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.session.$bracketHighlight) {\n            this.session.removeMarker(this.session.$bracketHighlight);\n            this.session.$bracketHighlight = null;\n        }\n\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function() {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            var pos = session.findMatchingBracket(self.getCursorPosition());\n            if (pos) {\n                var range = new Range(pos.row, pos.column, pos.row, pos.column + 1);\n            } else if (session.$mode.getMatching) {\n                var range = session.$mode.getMatching(self.session);\n            }\n            if (range)\n                session.$bracketHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.$highlightTags = function() {\n        if (this.$highlightTagPending)\n            return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function() {\n            self.$highlightTagPending = false;\n            \n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            \n            var pos = self.getCursorPosition();\n            var iterator = new TokenIterator(self.session, pos.row, pos.column);\n            var token = iterator.getCurrentToken();\n            \n            if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            if (token.type.indexOf(\"tag-open\") != -1) {\n                token = iterator.stepForward();\n                if (!token)\n                    return;\n            }\n            \n            var tag = token.value;\n            var depth = 0;\n            var prevToken = iterator.stepBackward();\n            \n            if (prevToken.value == '<'){\n                do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n                    \n                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                        if (prevToken.value === '<'){\n                            depth++;\n                        } else if (prevToken.value === '</'){\n                            depth--;\n                        }\n                    }\n                    \n                } while (token && depth >= 0);\n            } else {\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                        } else if (prevToken.value === '</') {\n                            depth--;\n                        }\n                    }\n                } while (prevToken && depth <= 0);\n                iterator.stepForward();\n            }\n            \n            if (!token) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn();\n            var range = new Range(row, column, row, column+token.value.length);\n            if (session.$tagHighlight && range.compareRange(session.$backMarkers[session.$tagHighlight].range)!==0) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n            }\n            \n            if (range && !session.$tagHighlight)\n                session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function(e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function(e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n    };\n    this.onDocumentChange = function(delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n        this.$updateHighlightActiveLine();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n\n        if (!this.$blockScrolling) {\n            config.warn(\"Automatically scrolling cursor into view after selection change\",\n                \"this will be disabled in the next version\",\n                \"set editor.$blockScrolling = Infinity to disable this message\"\n            );\n            this.renderer.scrollCursorIntoView();\n        }\n\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if ((this.$selectionStyle != \"line\" || !this.selection.isMultiLine()))\n                highlight = this.getCursorPosition();\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startOuter = selection.start.column - 1;\n        var endOuter = selection.end.column + 1;\n        var line = session.getLine(selection.start.row);\n        var lineCols = line.length;\n        var needle = line.substring(Math.max(startOuter, 0),\n                                    Math.min(endOuter, lineCols));\n        if ((startOuter >= 0 && /^[\\w\\d]/.test(needle)) ||\n            (endOuter <= lineCols && /[\\w\\d]$/.test(needle)))\n            return;\n\n        needle = line.substring(selection.start.column, selection.end.column);\n        if (!/^[\\w\\d]+$/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n\n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        this._signal(\"copy\", text);\n        return text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text, event) {\n        var e = {text: text, event: event};\n        this.commands.exec(\"paste\", this, e);\n    };\n    \n    this.$handlePaste = function(e) {\n        if (typeof e == \"string\") \n            e = {text: e};\n        this._signal(\"paste\", e);\n        var text = e.text;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            this.insert(text);\n        } else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n    \n            if (lines.length > ranges.length || lines.length < 2 || !lines[1])\n                return this.commands.exec(\"insertstring\", this, text);\n    \n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    this.session.remove(range);\n    \n                this.session.insert(range.start, lines[i]);\n            }\n        }\n    };\n\n    this.execCommand = function(command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    this.session.mergeUndoDeltas = false;\n                    this.$mergeNextCommand = false;\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite()) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        var end = session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n\n        if (session.getDocument().isNewLine(text)) {\n            var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n            session.insert({row: cursor.row+1, column: 0}, lineIndent);\n        }\n        if (shouldOutdent)\n            mode.autoOutdent(lineState, session, cursor.row);\n    };\n\n    this.onTextInput = function(text) {\n        this.keyBinding.onTextInput(text);\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function(dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1) moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            \n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1) rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy) diff = 0;\n                totalDiff += diff;\n            }\n            \n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function(range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(text) {\n        this.renderer.showComposition(this.getCursorPosition());\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        this.$blockScrolling++;\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n        this.$blockScrolling--;\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.$blockScrolling += 1;\n        this.selection.selectAll();\n        this.$blockScrolling -= 1;\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n\n        if (!token) return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        \n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                        break;\n                    }\n                }\n            }\n            else if (token && token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                \n                if (prevToken.value === '<') {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                \n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n\n            if (!found) {\n                prevToken = token;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1,\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1\n                );\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (token && token.type.indexOf('tag-name') !== -1) \n                var tag = token.value;\n            else\n                return;\n\n            range = new Range(\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2,\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2\n            );\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                found = false;\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (prevToken) {\n                        if (prevToken.type.indexOf('tag-close') !== -1) {\n                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                        }\n\n                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth[tag]++;\n                            }\n                            else if (prevToken.value === '</') {\n                                depth[tag]--;\n                            }\n                            \n                            if (depth[tag] === 0)\n                                found = true;\n                        }\n                    }\n                } while (prevToken && !found);\n            }\n            if (token && token.type.indexOf('tag-name')) {\n                pos = range.start;\n                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    pos = range.end;\n            }\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                } else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                } else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n\n        this.$blockScrolling += 1;\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n        this.$blockScrolling -= 1;\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n        if (range !== null) {\n            this.selection.setSelectionRange(range);\n            this.renderer.scrollSelectionIntoView(range.start, range.end);\n        }\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        this.$blockScrolling += 1;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n        this.$blockScrolling -= 1;\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.$blockScrolling += 1;\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n        this.$blockScrolling -= 1;\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.$blockScrolling++;\n        this.session.getUndoManager().undo();\n        this.$blockScrolling--;\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.$blockScrolling++;\n        this.session.getUndoManager().redo();\n        this.$blockScrolling--;\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session) {\n            this.session.destroy();\n        }\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())\n            ) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.removeEventListener(\"changeSelection\", onChangeSelection);\n            this.renderer.removeEventListener(\"afterRender\", onAfterRender);\n            this.renderer.removeEventListener(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val)}\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    showLineNumbers: \"renderer\",\n    showGutter: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\nexports.Editor = Editor;\n});\n\ndefine(\"ace/undomanager\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar UndoManager = function() {\n    this.reset();\n};\n\n(function() {\n    this.execute = function(options) {\n        var deltaSets = options.args[0];\n        this.$doc  = options.args[1];\n        if (options.merge && this.hasUndo()){\n            this.dirtyCounter--;\n            deltaSets = this.$undoStack.pop().concat(deltaSets);\n        }\n        this.$undoStack.push(deltaSets);\n        this.$redoStack = [];\n        if (this.dirtyCounter < 0) {\n            this.dirtyCounter = NaN;\n        }\n        this.dirtyCounter++;\n    };\n    this.undo = function(dontSelect) {\n        var deltaSets = this.$undoStack.pop();\n        var undoSelectionRange = null;\n        if (deltaSets) {\n            undoSelectionRange = this.$doc.undoChanges(this.$deserializeDeltas(deltaSets), dontSelect);\n            this.$redoStack.push(deltaSets);\n            this.dirtyCounter--;\n        }\n\n        return undoSelectionRange;\n    };\n    this.redo = function(dontSelect) {\n        var deltaSets = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        if (deltaSets) {\n            redoSelectionRange =\n                this.$doc.redoChanges(this.$deserializeDeltas(deltaSets), dontSelect);\n            this.$undoStack.push(deltaSets);\n            this.dirtyCounter++;\n        }\n        return redoSelectionRange;\n    };\n    this.reset = function() {\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.dirtyCounter = 0;\n    };\n    this.hasUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.hasRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.markClean = function() {\n        this.dirtyCounter = 0;\n    };\n    this.isClean = function() {\n        return this.dirtyCounter === 0;\n    };\n    this.$serializeDeltas = function(deltaSets) {\n        return cloneDeltaSetsObj(deltaSets, $serializeDelta);\n    };\n    this.$deserializeDeltas = function(deltaSets) {\n        return cloneDeltaSetsObj(deltaSets, $deserializeDelta);\n    };\n    \n    function $serializeDelta(delta){\n        return {\n            action: delta.action,\n            start: delta.start,\n            end: delta.end,\n            lines: delta.lines.length == 1 ? null : delta.lines,\n            text: delta.lines.length == 1 ? delta.lines[0] : null,\n        };\n    }\n        \n    function $deserializeDelta(delta) {\n        return {\n            action: delta.action,\n            start: delta.start,\n            end: delta.end,\n            lines: delta.lines || [delta.text]\n        };\n    }\n    \n    function cloneDeltaSetsObj(deltaSets_old, fnGetModifiedDelta) {\n        var deltaSets_new = new Array(deltaSets_old.length);\n        for (var i = 0; i < deltaSets_old.length; i++) {\n            var deltaSet_old = deltaSets_old[i];\n            var deltaSet_new = { group: deltaSet_old.group, deltas: new Array(deltaSet_old.length)};\n            \n            for (var j = 0; j < deltaSet_old.deltas.length; j++) {\n                var delta_old = deltaSet_old.deltas[j];\n                deltaSet_new.deltas[j] = fnGetModifiedDelta(delta_old);\n            }\n            \n            deltaSets_new[i] = deltaSet_new;\n        }\n        return deltaSets_new;\n    }\n    \n}).call(UndoManager.prototype);\n\nexports.UndoManager = UndoManager;\n});\n\ndefine(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n\n    this.$cells = [];\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.removeEventListener(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className){\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className){\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineNumber = 0;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$cells.length > index + 1) {\n                    cell = this.$cells.pop();\n                    this.element.removeChild(cell.element);\n                }\n                break;\n            }\n\n            cell = this.$cells[++index];\n            if (!cell) {\n                cell = {element: null, textNode: null, foldWidget: null};\n                cell.element = dom.createElement(\"div\");\n                cell.textNode = document.createTextNode('');\n                cell.element.appendChild(cell.textNode);\n                this.element.appendChild(cell.element);\n                this.$cells[index] = cell;\n            }\n\n            var className = \"ace_gutter-cell \";\n            if (breakpoints[row])\n                className += breakpoints[row];\n            if (decorations[row])\n                className += decorations[row];\n            if (this.$annotations[row])\n                className += this.$annotations[row].className;\n            if (cell.element.className != className)\n                cell.element.className = className;\n\n            var height = session.getRowLength(row) * config.lineHeight + \"px\";\n            if (height != cell.element.style.height)\n                cell.element.style.height = height;\n\n            if (foldWidgets) {\n                var c = foldWidgets[row];\n                if (c == null)\n                    c = foldWidgets[row] = session.getFoldWidget(row);\n            }\n\n            if (c) {\n                if (!cell.foldWidget) {\n                    cell.foldWidget = dom.createElement(\"span\");\n                    cell.element.appendChild(cell.foldWidget);\n                }\n                var className = \"ace_fold-widget ace_\" + c;\n                if (c == \"start\" && row == foldStart && row < fold.end.row)\n                    className += \" ace_closed\";\n                else\n                    className += \" ace_open\";\n                if (cell.foldWidget.className != className)\n                    cell.foldWidget.className = className;\n\n                var height = config.lineHeight + \"px\";\n                if (cell.foldWidget.style.height != height)\n                    cell.foldWidget.style.height = height;\n            } else {\n                if (cell.foldWidget) {\n                    cell.element.removeChild(cell.foldWidget);\n                    cell.foldWidget = null;\n                }\n            }\n            \n            var text = lastLineNumber = gutterRenderer\n                ? gutterRenderer.getText(session, row)\n                : row + firstLineNumber;\n            if (text != cell.textNode.data)\n                cell.textNode.data = text;\n\n            row++;\n        }\n\n        this.element.style.height = config.minHeight + \"px\";\n\n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineNumber = session.getLength() + firstLineNumber;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineNumber, config)\n            : lastLineNumber.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._emit(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return \"\"},\n            getText: function() {return \"\"}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = parseInt(style.paddingLeft) + 1 || 0;\n        this.$padding.right = parseInt(style.paddingRight) || 0;\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nexports.Gutter = Gutter;\n\n});\n\ndefine(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n\n    this.update = function(config) {\n        var config = config || this.config;\n        if (!config)\n            return;\n\n        this.config = config;\n\n\n        var html = [];\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        this.element.innerHTML = html.join(\"\");\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0; \n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, \n                clazz + (row == start  ? \" ace_start\" : \"\") + \" ace_br\"\n                    + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end),\n                layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \" ace_br1 ace_start' style='\",\n            \"height:\", height, \"px;\",\n            \"right:0;\",\n            \"top:\", top, \"px;\",\n            \"left:\", left, \"px;\", extraStyle, \"'></div>\"\n        );\n        top = this.$getTop(range.end.row, config);\n        var width = range.end.column * config.characterWidth;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \" ace_br12' style='\",\n            \"height:\", height, \"px;\",\n            \"width:\", width, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:\", padding, \"px;\", extraStyle, \"'></div>\"\n        );\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        \n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n        stringBuilder.push(\n            \"<div class='\", clazz, (radiusClass ? \" ace_br\" + radiusClass : \"\"), \"' style='\",\n            \"height:\", height, \"px;\",\n            \"right:0;\",\n            \"top:\", top, \"px;\",\n            \"left:\", padding, \"px;\", extraStyle, \"'></div>\"\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"width:\", width, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:\", left, \"px;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:0;right:0;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:0;right:0;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\ndefine(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n\n    this.$updateEolChar = function() {\n        var EOL_CHAR = this.session.doc.getNewLineCharacter() == \"\\n\"\n           ? this.EOL_CHAR_LF\n           : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    }\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.padding = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    }\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showInvisibles) {\n                tabStr.push(\"<span class='ace_invisible ace_invisible_tab'>\"\n                    + lang.stringRepeat(this.TAB_CHAR, i)\n                    + \"</span>\");\n            } else {\n                tabStr.push(lang.stringRepeat(\" \", i));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            var spaceClass = \"\";\n            var tabClass = \"\";\n            if (this.showInvisibles) {\n                className += \" ace_invisible\";\n                spaceClass = \" ace_invisible_space\";\n                tabClass = \" ace_invisible_tab\";\n                var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);\n                var tabContent = lang.stringRepeat(this.TAB_CHAR, this.tabSize);\n            } else{\n                var spaceContent = lang.stringRepeat(\" \", this.tabSize);\n                var tabContent = spaceContent;\n            }\n\n            this.$tabStrings[\" \"] = \"<span class='\" + className + spaceClass + \"'>\" + spaceContent + \"</span>\";\n            this.$tabStrings[\"\\t\"] = \"<span class='\" + className + tabClass + \"'>\" + tabContent + \"</span>\";\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            this.scrollLines(config);\n        }\n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                var html = [];\n                this.$renderLine(\n                    html, row, !this.$useLineGroups(), row == foldStart ? foldLine : false\n                );\n                lineElement.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n                lineElement.innerHTML = html.join(\"\");\n            }\n            row++;\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        var el = this.element;\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                el.removeChild(el.firstChild);\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                el.removeChild(el.lastChild);\n\n        if (config.firstRow < oldConfig.firstRow) {\n            var fragment = this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1);\n            if (el.firstChild)\n                el.insertBefore(fragment, el.firstChild);\n            else\n                el.appendChild(fragment);\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            var fragment = this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow);\n            el.appendChild(fragment);\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = this.element.ownerDocument.createDocumentFragment();\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var container = dom.createElement(\"div\");\n\n            var html = [];\n            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n            container.innerHTML = html.join(\"\");\n            if (this.$useLineGroups()) {\n                container.className = 'ace_line_group';\n                fragment.appendChild(container);\n                container.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n\n            } else {\n                while(container.firstChild)\n                    fragment.appendChild(container.firstChild);\n            }\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var html = [];\n        var firstRow = config.firstRow, lastRow = config.lastRow;\n\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            if (this.$useLineGroups())\n                html.push(\"<div class='ace_line_group' style='height:\", config.lineHeight*this.session.getRowLength(row), \"px'>\")\n\n            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups())\n                html.push(\"</div>\"); // end the line group\n\n            row++;\n        }\n        this.element.innerHTML = html.join(\"\");\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(stringBuilder, screenColumn, token, value) {\n        var self = this;\n        var replaceReg = /\\t|&|<|>|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF])|[\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3000-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]/g;\n        var replaceFunc = function(c, a, b, tabIdx, idx4) {\n            if (a) {\n                return self.showInvisibles\n                    ? \"<span class='ace_invisible ace_invisible_space'>\" + lang.stringRepeat(self.SPACE_CHAR, c.length) + \"</span>\"\n                    : c;\n            } else if (c == \"&\") {\n                return \"&#38;\";\n            } else if (c == \"<\") {\n                return \"&#60;\";\n            } else if (c == \">\") {\n                return \"&#62;\";\n            } else if (c == \"\\t\") {\n                var tabSize = self.session.getScreenTabSize(screenColumn + tabIdx);\n                screenColumn += tabSize - 1;\n                return self.$tabStrings[tabSize];\n            } else if (c == \"\\u3000\") {\n                var classToUse = self.showInvisibles ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                var space = self.showInvisibles ? self.SPACE_CHAR : \"\";\n                screenColumn += 1;\n                return \"<span class='\" + classToUse + \"' style='width:\" +\n                    (self.config.characterWidth * 2) +\n                    \"px'>\" + space + \"</span>\";\n            } else if (b) {\n                return \"<span class='ace_invisible ace_invisible_space ace_invalid'>\" + self.SPACE_CHAR + \"</span>\";\n            } else {\n                screenColumn += 1;\n                return \"<span class='ace_cjk' style='width:\" +\n                    (self.config.characterWidth * 2) +\n                    \"px'>\" + c + \"</span>\";\n            }\n        };\n\n        var output = value.replace(replaceReg, replaceFunc);\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var style = \"\";\n            if (token.type == \"fold\")\n                style = \" style='width:\" + (token.value.length * this.config.characterWidth) + \"px;' \";\n            stringBuilder.push(\"<span class='\", classes, \"'\", style, \">\", output, \"</span>\");\n        }\n        else {\n            stringBuilder.push(output);\n        }\n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(stringBuilder, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            stringBuilder.push(lang.stringRepeat(this.$tabStrings[\" \"], cols/this.tabSize));\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            stringBuilder.push(lang.stringRepeat(this.$tabStrings[\"\\t\"], cols));\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$renderWrappedLine = function(stringBuilder, tokens, splits, onlyContents) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(stringBuilder, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        stringBuilder, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    if (!onlyContents) {\n                        stringBuilder.push(\"</div>\",\n                            \"<div class='ace_line' style='height:\",\n                            this.config.lineHeight, \"px'>\"\n                        );\n                    }\n\n                    stringBuilder.push(lang.stringRepeat(\"\\xa0\", splits.indent));\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        stringBuilder, screenColumn, token, value\n                    );\n                }\n            }\n        }\n    };\n\n    this.$renderSimpleLine = function(stringBuilder, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(stringBuilder, value);\n        if (value)\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n        }\n    };\n    this.$renderLine = function(stringBuilder, row, onlyContents, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n\n        if (!onlyContents) {\n            stringBuilder.push(\n                \"<div class='ace_line' style='height:\", \n                    this.config.lineHeight * (\n                        this.$useLineGroups() ? 1 :this.session.getRowLength(row)\n                    ), \"px'>\"\n            );\n        }\n\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length)\n                this.$renderWrappedLine(stringBuilder, tokens, splits, onlyContents);\n            else\n                this.$renderSimpleLine(stringBuilder, tokens);\n        }\n\n        if (this.showInvisibles) {\n            if (foldLine)\n                row = foldLine.end.row\n\n            stringBuilder.push(\n                \"<span class='ace_invisible ace_invisible_eol'>\",\n                row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR,\n                \"</span>\"\n            );\n        }\n        if (!onlyContents)\n            stringBuilder.push(\"</div>\");\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$measureNode)\n            this.$measureNode.parentNode.removeChild(this.$measureNode);\n        delete this.$measureNode;\n    };\n\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\ndefine(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar isIE8;\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    if (isIE8 === undefined)\n        isIE8 = !(\"opacity\" in this.element.style);\n\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = (isIE8\n        ? this.$updateVisibility\n        : this.$updateOpacity).bind(this);\n};\n\n(function() {\n    \n    this.$updateVisibility = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.visibility = val ? \"\" : \"hidden\";\n    };\n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.opacity = val ? \"\" : \"0\";\n    };\n    \n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking){\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval){\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking && !isIE8) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.$updateCursors = (this.$updateOpacity).bind(this);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible)\n            return;\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        var blink = function(){\n            this.timeoutId = setTimeout(function() {\n                update(false);\n            }, 0.6 * this.blinkInterval);\n        }.bind(this);\n\n        this.intervalId = setInterval(function() {\n            update(true);\n            blink();\n        }, this.blinkInterval);\n\n        blink();\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + pos.column * this.config.characterWidth;\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var style = (this.cursors[cursorIndex++] || this.addCursor()).style;\n            \n            if (!this.drawCursor) {\n                style.left = pixelPos.left + \"px\";\n                style.top = pixelPos.top + \"px\";\n                style.width = config.characterWidth + \"px\";\n                style.height = config.lineHeight + \"px\";\n            } else {\n                this.drawCursor(style, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    \n    this.drawCursor = null;\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\ndefine(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return this.isVisible ? this.width : 0;\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight = function(height) {\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollHeight = function(height) {\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = this.element.scrollTop = scrollTop;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\ndefine(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.window = win || window;\n};\n\n(function() {\n\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (!this.pending && this.changes) {\n            this.pending = true;\n            var _self = this;\n            event.nextFrame(function() {\n                _self.pending = false;\n                var changes;\n                while (changes = _self.changes) {\n                    _self.changes = 0;\n                    _self.onRender(changes);\n                }\n            }, this.window);\n        }\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\ndefine(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 0;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl, interval) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    if (!CHAR_COUNT)\n        this.$testFractionalRect();\n    this.$measureNode.innerHTML = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$testFractionalRect = function() {\n        var el = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(el.style);\n        el.style.width = \"0.2px\";\n        document.documentElement.appendChild(el);\n        var w = el.getBoundingClientRect().width;\n        if (w > 0 && w < 1)\n            CHAR_COUNT = 50;\n        else\n            CHAR_COUNT = 100;\n        el.parentNode.removeChild(el);\n    };\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        } else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function() {\n        var size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        return this.$pollSizeChangesTimer = setInterval(function() {\n            self.checkForSizeChanges();\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n\n    this.$measureSizes = function() {\n        if (CHAR_COUNT === 50) {\n            var rect = null;\n            try { \n               rect = this.$measureNode.getBoundingClientRect();\n            } catch(e) {\n               rect = {width: 0, height:0 };\n            };\n            var size = {\n                height: rect.height,\n                width: rect.width / CHAR_COUNT\n            };\n        } else {\n            var size = {\n                height: this.$measureNode.clientHeight,\n                width: this.$measureNode.clientWidth / CHAR_COUNT\n            };\n        }\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.innerHTML = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n}).call(FontMetrics.prototype);\n\n});\n\ndefine(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/lib/useragent\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar useragent = require(\"./lib/useragent\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \".ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ntext-indent: -1em;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: inherit;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\ntext-indent: 0;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\n-webkit-transition: opacity 0.18s;\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_editor.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\n-webkit-transition: opacity 0.4s ease 0.05s;\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\n-webkit-transition: opacity 0.05s ease 0.05s;\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n\";\n\ndom.importCssString(editorCss, \"ace_editor.css\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n    this.$keepTextAreaAtCursor = !useragent.isOldIE;\n\n    dom.addCssClass(this.container, \"ace_editor\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container, 500);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.addEventListener(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._emit(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        \n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode()\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            this.scrollBarH.element.style.left = \n            this.scroller.style.left = gutterWidth + \"px\";\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth());           \n            \n            this.scrollBarH.element.style.right = \n            this.scroller.style.right = this.scrollBarV.getWidth() + \"px\";\n            this.scroller.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force)\n                changes |= this.CHANGE_FULL;\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function() {\n        var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n            this.$loop.schedule(this.CHANGE_MARKER);\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\")\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updateGutterLineHighlight = function() {\n        var pos = this.$cursorLayer.$pixelPos;\n        var height = this.layerConfig.lineHeight;\n        if (this.session.getUseWrapMode()) {\n            var cursor = this.session.selection.getCursor();\n            cursor.column = 0;\n            pos = this.$cursorLayer.getPixelPosition(cursor, true);\n            height *= this.session.getRowLength(cursor.row);\n        }\n        this.$gutterLineHighlight.style.top = pos.top - this.layerConfig.offset + \"px\";\n        this.$gutterLineHighlight.style.height = height + \"px\";\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = ((this.characterWidth * this.$printMarginColumn) + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (!this.$keepTextAreaAtCursor)\n            return;\n        var config = this.layerConfig;\n        var posTop = this.$cursorLayer.$pixelPos.top;\n        var posLeft = this.$cursorLayer.$pixelPos.left;\n        posTop -= config.offset;\n\n        var style = this.textarea.style;\n        var h = this.lineHeight;\n        if (posTop < 0 || posTop > config.height - h) {\n            style.top = style.left = \"0\";\n            return;\n        }\n\n        var w = this.characterWidth;\n        if (this.$composition) {\n            var val = this.textarea.value.replace(/^\\x01+/, \"\");\n            w *= (this.session.$getStringScreenWidth(val)[0]+2);\n            h += 2;\n        }\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft += this.gutterWidth;\n        style.height = h + \"px\";\n        style.width = w + \"px\";\n        style.left = Math.min(posLeft, this.$size.scrollerWidth - w) + \"px\";\n        style.top = Math.min(posTop, this.$size.height - h) + \"px\";\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var flint = Math.floor((this.layerConfig.height + this.layerConfig.offset) / this.layerConfig.lineHeight);\n        return this.layerConfig.firstRow - 1 + flint;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\");\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            this.$gutterLayer.element.style.marginTop = (-config.offset) + \"px\";\n            this.content.style.marginTop = (-config.offset) + \"px\";\n            this.content.style.width = config.width + 2 * this.$padding + \"px\";\n            this.content.style.height = config.minHeight + \"px\";\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            this.content.style.marginLeft = -this.scrollLeft + \"px\";\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n            this._signal(\"afterRender\");\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\");\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\");\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.max(\n            (this.$minLines||1) * this.lineHeight,\n            Math.min(maxHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        var vScroll = height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            \n            this._signal(\"autosize\");\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var offset = this.scrollTop % this.lineHeight;\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        \n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        \n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes = this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)),\n            height : this.$size.scrollerHeight\n        };\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n\n        var offset = (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n\n        var col = Math.round(\n            (x + this.scrollLeft - canvasPos.left - this.$padding) / this.characterWidth\n        );\n\n        var row = (y + this.scrollTop - canvasPos.top) / this.lineHeight;\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0));\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + Math.round(pos.column * this.characterWidth);\n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(position) {\n        if (!this.$composition)\n            this.$composition = {\n                keepTextAreaAtCursor: this.$keepTextAreaAtCursor,\n                cssText: this.textarea.style.cssText\n            };\n\n        this.$keepTextAreaAtCursor = true;\n        dom.addCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = \"\";\n        this.$moveTextAreaToCursor();\n    };\n    this.setCompositionText = function(text) {\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;\n        this.textarea.style.cssText = this.$composition.cssText;\n        this.$composition = null;\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module.cssClass)\n                return;\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container.ownerDocument\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        if (this.scroller.style.cursor != style)\n            this.scroller.style.cursor = style;\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        this.scroller.style.cursor = cursorStyle;\n    };\n    this.destroy = function() {\n        this.$textLayer.destroy();\n        this.$cursorLayer.destroy();\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {this.$gutterLayer.setShowFoldWidgets(show)},\n        initialValue: true\n    },\n    showLineNumbers: {\n        set: function(show) {\n            this.$gutterLayer.setShowLineNumbers(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            if (!this.$gutterLineHighlight) {\n                this.$gutterLineHighlight = dom.createElement(\"div\");\n                this.$gutterLineHighlight.className = \"ace_gutter-active-line\";\n                this.$gutter.appendChild(this.$gutterLineHighlight);\n                return;\n            }\n\n            this.$gutterLineHighlight.style.display = shouldHighlight ? \"\" : \"none\";\n            if (this.$cursorLayer.$pixelPos)\n                this.$updateGutterLineHighlight();\n        },\n        initialValue: false,\n        value: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize:  {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val) },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\ndefine(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nvar WorkerClient = function(topLevelNamespaces, mod, classname, workerUrl) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n    if (require.nameToUrl && !require.toUrl)\n        require.toUrl = require.nameToUrl;\n    \n    if (config.get(\"packaged\") || !require.toUrl) {\n        workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n    } else {\n        var normalizePath = this.$normalizePath;\n        workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n        var tlns = {};\n        topLevelNamespaces.forEach(function(ns) {\n            tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n        });\n    }\n\n    try {\n        this.$worker = new Worker(workerUrl);\n    } catch(e) {\n        if (e instanceof window.DOMException) {\n            var blob = this.$workerBlob(workerUrl);\n            var URL = window.URL || window.webkitURL;\n            var blobURL = URL.createObjectURL(blob);\n\n            this.$worker = new Worker(blobURL);\n            URL.revokeObjectURL(blobURL);\n        } else {\n            throw e;\n        }\n    }\n    this.$worker.postMessage({\n        init : true,\n        tlns : tlns,\n        module : mod,\n        classname : classname\n    });\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch(msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if(this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n    this.$workerBlob = function(workerUrl) {\n        var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n        try {\n            return new Blob([script], {\"type\": \"application/javascript\"});\n        } catch (e) { // Backwards-compatibility\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n            var blobBuilder = new BlobBuilder();\n            blobBuilder.append(script);\n            return blobBuilder.getBlob(\"application/javascript\");\n        }\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.callbackId = 1;\n    this.callbacks = {};\n    this.messageBuffer = [];\n\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n    var _self = this;\n\n    this.$worker = {};\n    this.$worker.terminate = function() {};\n    this.$worker.postMessage = function(e) {\n        _self.messageBuffer.push(e);\n        if (main) {\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    };\n    this.setEmitSync = function(val) { emitSync = val };\n\n    var processNext = function() {\n        var msg = _self.messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        _self.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (_self.messageBuffer.length)\n            processNext();\n    });\n};\n\nUIWorkerClient.prototype = WorkerClient.prototype;\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\n\n});\n\ndefine(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth =  undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        var pos = this.$pos;\n        \n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n\n        this.pos = doc.createAnchor(pos.row, pos.column);\n        this.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.pos.on(\"change\", function(event) {\n            session.removeMarker(_self.markerId);\n            _self.markerId = session.addMarker(new Range(event.value.row, event.value.column, event.value.row, event.value.column+_self.length), _self.mainClass, null, false);\n        });\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if(this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n            anchor.on(\"change\", function(event) {\n                session.removeMarker(anchor.markerId);\n                anchor.markerId = session.addMarker(new Range(event.value.row, event.value.column, event.value.row, event.value.column+_self.length), _self.othersClass, null, false);\n            });\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if(!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(delta) {\n        var range = delta;\n        if(range.start.row !== range.end.row) return;\n        if(range.start.row !== this.pos.row) return;\n        if (this.$updating) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        \n        if(range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1) {\n            var distanceFromStart = range.start.column - this.pos.column;\n            this.length += lengthDiff;\n            if(!this.session.$fromUndo) {\n                if(delta.action === 'insert') {\n                    for (var i = this.others.length - 1; i >= 0; i--) {\n                        var otherPos = this.others[i];\n                        var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                        if(otherPos.row === range.start.row && range.start.column < otherPos.column)\n                            newPos.column += lengthDiff;\n                        this.doc.insertMergedLines(newPos, delta.lines);\n                    }\n                } else if(delta.action === 'remove') {\n                    for (var i = this.others.length - 1; i >= 0; i--) {\n                        var otherPos = this.others[i];\n                        var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                        if(otherPos.row === range.start.row && range.start.column < otherPos.column)\n                            newPos.column += lengthDiff;\n                        this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                    }\n                }\n                if(range.start.column === this.pos.column && delta.action === 'insert') {\n                    setTimeout(function() {\n                        this.pos.setPosition(this.pos.row, this.pos.column - lengthDiff);\n                        for (var i = 0; i < this.others.length; i++) {\n                            var other = this.others[i];\n                            var newPos = {row: other.row, column: other.column - lengthDiff};\n                            if(other.row === range.start.row && range.start.column < other.column)\n                                newPos.column += lengthDiff;\n                            other.setPosition(newPos.row, newPos.column);\n                        }\n                    }.bind(this), 0);\n                }\n                else if(range.start.column === this.pos.column && delta.action === 'remove') {\n                    setTimeout(function() {\n                        for (var i = 0; i < this.others.length; i++) {\n                            var other = this.others[i];\n                            if(other.row === range.start.row && range.start.column < other.column) {\n                                other.setPosition(other.row, other.column - lengthDiff);\n                            }\n                        }\n                    }.bind(this), 0);\n                }\n            }\n            this.pos._emit(\"change\", {value: this.pos});\n            for (var i = 0; i < this.others.length; i++) {\n                this.others[i]._emit(\"change\", {value: this.others[i]});\n            }\n        }\n        this.$updating = false;\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating || !this.session) return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.markerId);\n        this.hideOtherMarkers();\n        this.doc.removeEventListener(\"change\", this.$onUpdate);\n        this.session.selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n        this.pos.detach();\n        for (var i = 0; i < this.others.length; i++) {\n            this.others[i].detach();\n        }\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function() {\n        if(this.$undoStackDepth === -1)\n            throw Error(\"Canceling placeholders only supported with undo manager attached to session.\");\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\ndefine(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    \n    if (ctrl && useragent.isMac)\n        button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    \n    if (button !== 0)\n        return;\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    \n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    } else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        } else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    \n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        \n        editor.$blockScrolling++;\n        editor.inVirtualSelectionMode = true;\n        \n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                } else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.$blockScrolling--;\n            editor.inVirtualSelectionMode = false;\n        });\n\n    } else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;        \n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function() {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column);\n\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            \n            editor.$blockScrolling++;\n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n            editor.$blockScrolling--;\n        };\n        editor.$blockScrolling++;\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        } else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        \n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);            \n        else\n            selection.moveToPosition(pos);\n        editor.$blockScrolling--;\n        \n        screenCursor = {row: -1, column: -1};\n\n        var onMouseSelectionEnd = function(e) {\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            editor.$blockScrolling++;\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n            editor.$blockScrolling--;\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\ndefine(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelow\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreBefore\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreAfter\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextBefore\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextAfter\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"splitIntoLines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readOnly: true\n}, {\n    name: \"alignCursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"},\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"findAll\",\n    exec: function(editor) { editor.findAll(); },\n    bindKey: {win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode}\n}];\n\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\ndefine(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module) {\n\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        else if(this.ranges[0])\n            this.fromOrientedRange(this.ranges[0]);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n\n    this.splitIntoLines = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var range = this.getRange();\n            var isBackwards = this.isBackwards();\n            var startRow = range.start.row;\n            var endRow = range.end.row;\n            if (startRow == endRow) {\n                if (isBackwards)\n                    var start = range.end, end = range.start;\n                else\n                    var start = range.start, end = range.end;\n                \n                this.addRange(Range.fromPoints(end, end));\n                this.addRange(Range.fromPoints(start, start));\n                return;\n            }\n\n            var rectSel = [];\n            var r = this.getLineRange(startRow, true);\n            r.start.column = range.start.column;\n            rectSel.push(r);\n\n            for (var i = startRow + 1; i < endRow; i++)\n                rectSel.push(this.getLineRange(i, true));\n\n            r = this.getLineRange(endRow, true);\n            r.end.column = range.end.column;\n            rectSel.push(r);\n\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.selectionLead);\n            var anchor = this.session.documentToScreenPosition(this.selectionAnchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn),\n                this.session.screenToDocumentPosition(row, endColumn)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                var docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        \n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    \n    this.$checkMultiselectChange = function(e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row \n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }    \n        this.$search.set(options);\n        \n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        this.$blockScrolling += 1;\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        \n        this.$blockScrolling -= 1;\n\n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n    };\n    this.selectMore = function(dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.$blockScrolling += 1;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.$blockScrolling -= 1;\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function(r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        \n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            sameRowRanges.forEach(function(r) {\n                sel.substractPoint(r.cursor);\n            });\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW, \" \")\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\",  this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\",  this.$checkMultiselectChange);\n    }\n\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\",  this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\",  this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    });\n\n    event.addListener(el, \"keyup\", reset);\n    event.addListener(el, \"blur\", reset);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function(val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n\n\n});\n\ndefine(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel)\n                break;\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\ndefine(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\ndefine(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar Range = require(\"./range\").Range;\n\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount)\n                screenRows +=w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.$onChangeEditor = function(e) {\n        this.attach(e.editor);\n    };\n    \n    this.attach = function(editor) {\n        if (editor  && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function(e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnChange = function(delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        \n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.addLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        this.session.lineWidgets[w.row] = w;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n        }\n        \n        if (!w.coverGutter) {\n            w.el.style.zIndex = 3;\n        }\n        if (!w.pixelHeight) {\n            w.pixelHeight = w.el.offsetHeight;\n        }\n        if (w.rowCount == null)\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets)\n            this.session.lineWidgets[w.row] = undefined;\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n\n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\ndefine(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.lineWidgets && session.lineWidgets[row];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\")\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});\n\ndefine(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\n\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\n\nexports.config = require(\"./config\");\nexports.require = require;\nexports.edit = function(el) {\n    if (typeof(el) == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n        value = dom.getInnerText(el);\n        el.innerHTML = '';\n    }\n\n    var doc = exports.createEditSession(value);\n\n    var editor = new Editor(new Renderer(el));\n    editor.setSession(doc);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n}\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\n});\n            (function() {\n                window.require([\"ace/ace\"], function(a) {\n                    a && a.config.init(true);\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                });\n            })();\n        \ndefine(\"ace/mode/doc_comment_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar DocCommentHighlightRules = function() {\n    this.$rules = {\n        \"start\" : [ {\n            token : \"comment.doc.tag\",\n            regex : \"@[\\\\w\\\\d_]+\" // TODO: fix email addresses\n        }, \n        DocCommentHighlightRules.getTagRule(),\n        {\n            defaultToken : \"comment.doc\",\n            caseInsensitive: true\n        }]\n    };\n};\n\noop.inherits(DocCommentHighlightRules, TextHighlightRules);\n\nDocCommentHighlightRules.getTagRule = function(start) {\n    return {\n        token : \"comment.doc.tag.storage.type\",\n        regex : \"\\\\b(?:TODO|FIXME|XXX|HACK)\\\\b\"\n    };\n}\n\nDocCommentHighlightRules.getStartRule = function(start) {\n    return {\n        token : \"comment.doc\", // doc comment\n        regex : \"\\\\/\\\\*(?=\\\\*)\",\n        next  : start\n    };\n};\n\nDocCommentHighlightRules.getEndRule = function (start) {\n    return {\n        token : \"comment.doc\", // closing comment\n        regex : \"\\\\*\\\\/\",\n        next  : start\n    };\n};\n\n\nexports.DocCommentHighlightRules = DocCommentHighlightRules;\n\n});\n\ndefine(\"ace/mode/javascript_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/doc_comment_highlight_rules\",\"ace/mode/text_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar DocCommentHighlightRules = require(\"./doc_comment_highlight_rules\").DocCommentHighlightRules;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar JavaScriptHighlightRules = function(options) {\n    var keywordMapper = this.createKeywordMapper({\n        \"variable.language\":\n            \"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|\"  + // Constructors\n            \"Namespace|QName|XML|XMLList|\"                                             + // E4X\n            \"ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|\"   +\n            \"Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|\"                    +\n            \"Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|\"   + // Errors\n            \"SyntaxError|TypeError|URIError|\"                                          +\n            \"decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|\" + // Non-constructor functions\n            \"isNaN|parseFloat|parseInt|\"                                               +\n            \"JSON|Math|\"                                                               + // Other\n            \"this|arguments|prototype|window|document\"                                 , // Pseudo\n        \"keyword\":\n            \"const|yield|import|get|set|\" +\n            \"break|case|catch|continue|default|delete|do|else|finally|for|function|\" +\n            \"if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|\" +\n            \"__parent__|__count__|escape|unescape|with|__proto__|\" +\n            \"class|enum|extends|super|export|implements|private|public|interface|package|protected|static\",\n        \"storage.type\":\n            \"const|let|var|function\",\n        \"constant.language\":\n            \"null|Infinity|NaN|undefined\",\n        \"support.function\":\n            \"alert\",\n        \"constant.language.boolean\": \"true|false\"\n    }, \"identifier\");\n    var kwBeforeRe = \"case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void\";\n    var identifierRe = \"[a-zA-Z\\\\$_\\u00a1-\\uffff][a-zA-Z\\\\d\\\\$_\\u00a1-\\uffff]*\\\\b\";\n\n    var escapedRe = \"\\\\\\\\(?:x[0-9a-fA-F]{2}|\" + // hex\n        \"u[0-9a-fA-F]{4}|\" + // unicode\n        \"[0-2][0-7]{0,2}|\" + // oct\n        \"3[0-6][0-7]?|\" + // oct\n        \"37[0-7]?|\" + // oct\n        \"[4-7][0-7]?|\" + //oct\n        \".)\";\n\n    this.$rules = {\n        \"no_regex\" : [\n            {\n                token : \"comment\",\n                regex : \"\\\\/\\\\/\",\n                next : \"line_comment\"\n            },\n            DocCommentHighlightRules.getStartRule(\"doc-start\"),\n            {\n                token : \"comment\", // multi line comment\n                regex : /\\/\\*/,\n                next : \"comment\"\n            }, {\n                token : \"string\",\n                regex : \"'(?=.)\",\n                next  : \"qstring\"\n            }, {\n                token : \"string\",\n                regex : '\"(?=.)',\n                next  : \"qqstring\"\n            }, {\n                token : \"constant.numeric\", // hex\n                regex : /0[xX][0-9a-fA-F]+\\b/\n            }, {\n                token : \"constant.numeric\", // float\n                regex : /[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b/\n            }, {\n                token : [\n                    \"storage.type\", \"punctuation.operator\", \"support.function\",\n                    \"punctuation.operator\", \"entity.name.function\", \"text\",\"keyword.operator\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\.)(prototype)(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"storage.type\", \"punctuation.operator\", \"entity.name.function\", \"text\",\n                    \"keyword.operator\", \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"entity.name.function\", \"text\", \"keyword.operator\", \"text\", \"storage.type\",\n                    \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"storage.type\", \"punctuation.operator\", \"entity.name.function\", \"text\",\n                    \"keyword.operator\", \"text\",\n                    \"storage.type\", \"text\", \"entity.name.function\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\.)(\" + identifierRe +\")(\\\\s*)(=)(\\\\s*)(function)(\\\\s+)(\\\\w+)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"storage.type\", \"text\", \"entity.name.function\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(function)(\\\\s+)(\" + identifierRe + \")(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"entity.name.function\", \"text\", \"punctuation.operator\",\n                    \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(\" + identifierRe + \")(\\\\s*)(:)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : [\n                    \"text\", \"text\", \"storage.type\", \"text\", \"paren.lparen\"\n                ],\n                regex : \"(:)(\\\\s*)(function)(\\\\s*)(\\\\()\",\n                next: \"function_arguments\"\n            }, {\n                token : \"keyword\",\n                regex : \"(?:\" + kwBeforeRe + \")\\\\b\",\n                next : \"start\"\n            }, {\n                token : [\"punctuation.operator\", \"support.function\"],\n                regex : /(\\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\\b(?=\\()/\n            }, {\n                token : [\"punctuation.operator\", \"support.function.dom\"],\n                regex : /(\\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\\b(?=\\()/\n            }, {\n                token : [\"punctuation.operator\", \"support.constant\"],\n                regex : /(\\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\\b/\n            }, {\n                token : [\"support.constant\"],\n                regex : /that\\b/\n            }, {\n                token : [\"storage.type\", \"punctuation.operator\", \"support.function.firebug\"],\n                regex : /(console)(\\.)(warn|info|log|error|time|trace|timeEnd|assert)\\b/\n            }, {\n                token : keywordMapper,\n                regex : identifierRe\n            }, {\n                token : \"keyword.operator\",\n                regex : /--|\\+\\+|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|[!$%&*+\\-~\\/^]=?/,\n                next  : \"start\"\n            }, {\n                token : \"punctuation.operator\",\n                regex : /[?:,;.]/,\n                next  : \"start\"\n            }, {\n                token : \"paren.lparen\",\n                regex : /[\\[({]/,\n                next  : \"start\"\n            }, {\n                token : \"paren.rparen\",\n                regex : /[\\])}]/\n            }, {\n                token: \"comment\",\n                regex: /^#!.*$/\n            }\n        ],\n        \"start\": [\n            DocCommentHighlightRules.getStartRule(\"doc-start\"),\n            {\n                token : \"comment\", // multi line comment\n                regex : \"\\\\/\\\\*\",\n                next : \"comment_regex_allowed\"\n            }, {\n                token : \"comment\",\n                regex : \"\\\\/\\\\/\",\n                next : \"line_comment_regex_allowed\"\n            }, {\n                token: \"string.regexp\",\n                regex: \"\\\\/\",\n                next: \"regex\"\n            }, {\n                token : \"text\",\n                regex : \"\\\\s+|^$\",\n                next : \"start\"\n            }, {\n                token: \"empty\",\n                regex: \"\",\n                next: \"no_regex\"\n            }\n        ],\n        \"regex\": [\n            {\n                token: \"regexp.keyword.operator\",\n                regex: \"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"\n            }, {\n                token: \"string.regexp\",\n                regex: \"/[sxngimy]*\",\n                next: \"no_regex\"\n            }, {\n                token : \"invalid\",\n                regex: /\\{\\d+\\b,?\\d*\\}[+*]|[+*$^?][+*]|[$^][?]|\\?{3,}/\n            }, {\n                token : \"constant.language.escape\",\n                regex: /\\(\\?[:=!]|\\)|\\{\\d+\\b,?\\d*\\}|[+*]\\?|[()$^+*?.]/\n            }, {\n                token : \"constant.language.delimiter\",\n                regex: /\\|/\n            }, {\n                token: \"constant.language.escape\",\n                regex: /\\[\\^?/,\n                next: \"regex_character_class\"\n            }, {\n                token: \"empty\",\n                regex: \"$\",\n                next: \"no_regex\"\n            }, {\n                defaultToken: \"string.regexp\"\n            }\n        ],\n        \"regex_character_class\": [\n            {\n                token: \"regexp.charclass.keyword.operator\",\n                regex: \"\\\\\\\\(?:u[\\\\da-fA-F]{4}|x[\\\\da-fA-F]{2}|.)\"\n            }, {\n                token: \"constant.language.escape\",\n                regex: \"]\",\n                next: \"regex\"\n            }, {\n                token: \"constant.language.escape\",\n                regex: \"-\"\n            }, {\n                token: \"empty\",\n                regex: \"$\",\n                next: \"no_regex\"\n            }, {\n                defaultToken: \"string.regexp.charachterclass\"\n            }\n        ],\n        \"function_arguments\": [\n            {\n                token: \"variable.parameter\",\n                regex: identifierRe\n            }, {\n                token: \"punctuation.operator\",\n                regex: \"[, ]+\"\n            }, {\n                token: \"punctuation.operator\",\n                regex: \"$\"\n            }, {\n                token: \"empty\",\n                regex: \"\",\n                next: \"no_regex\"\n            }\n        ],\n        \"comment_regex_allowed\" : [\n            DocCommentHighlightRules.getTagRule(),\n            {token : \"comment\", regex : \"\\\\*\\\\/\", next : \"start\"},\n            {defaultToken : \"comment\", caseInsensitive: true}\n        ],\n        \"comment\" : [\n            DocCommentHighlightRules.getTagRule(),\n            {token : \"comment\", regex : \"\\\\*\\\\/\", next : \"no_regex\"},\n            {defaultToken : \"comment\", caseInsensitive: true}\n        ],\n        \"line_comment_regex_allowed\" : [\n            DocCommentHighlightRules.getTagRule(),\n            {token : \"comment\", regex : \"$|^\", next : \"start\"},\n            {defaultToken : \"comment\", caseInsensitive: true}\n        ],\n        \"line_comment\" : [\n            DocCommentHighlightRules.getTagRule(),\n            {token : \"comment\", regex : \"$|^\", next : \"no_regex\"},\n            {defaultToken : \"comment\", caseInsensitive: true}\n        ],\n        \"qqstring\" : [\n            {\n                token : \"constant.language.escape\",\n                regex : escapedRe\n            }, {\n                token : \"string\",\n                regex : \"\\\\\\\\$\",\n                next  : \"qqstring\"\n            }, {\n                token : \"string\",\n                regex : '\"|$',\n                next  : \"no_regex\"\n            }, {\n                defaultToken: \"string\"\n            }\n        ],\n        \"qstring\" : [\n            {\n                token : \"constant.language.escape\",\n                regex : escapedRe\n            }, {\n                token : \"string\",\n                regex : \"\\\\\\\\$\",\n                next  : \"qstring\"\n            }, {\n                token : \"string\",\n                regex : \"'|$\",\n                next  : \"no_regex\"\n            }, {\n                defaultToken: \"string\"\n            }\n        ]\n    };\n    \n    \n    if (!options || !options.noES6) {\n        this.$rules.no_regex.unshift({\n            regex: \"[{}]\", onMatch: function(val, state, stack) {\n                this.next = val == \"{\" ? this.nextState : \"\";\n                if (val == \"{\" && stack.length) {\n                    stack.unshift(\"start\", state);\n                    return \"paren\";\n                }\n                if (val == \"}\" && stack.length) {\n                    stack.shift();\n                    this.next = stack.shift();\n                    if (this.next.indexOf(\"string\") != -1)\n                        return \"paren.quasi.end\";\n                }\n                return val == \"{\" ? \"paren.lparen\" : \"paren.rparen\";\n            },\n            nextState: \"start\"\n        }, {\n            token : \"string.quasi.start\",\n            regex : /`/,\n            push  : [{\n                token : \"constant.language.escape\",\n                regex : escapedRe\n            }, {\n                token : \"paren.quasi.start\",\n                regex : /\\${/,\n                push  : \"start\"\n            }, {\n                token : \"string.quasi.end\",\n                regex : /`/,\n                next  : \"pop\"\n            }, {\n                defaultToken: \"string.quasi\"\n            }]\n        });\n    }\n    \n    this.embedRules(DocCommentHighlightRules, \"doc-\",\n        [ DocCommentHighlightRules.getEndRule(\"no_regex\") ]);\n    \n    this.normalizeRules();\n};\n\noop.inherits(JavaScriptHighlightRules, TextHighlightRules);\n\nexports.JavaScriptHighlightRules = JavaScriptHighlightRules;\n});\n\ndefine(\"ace/mode/matching_brace_outdent\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\n\nvar MatchingBraceOutdent = function() {};\n\n(function() {\n\n    this.checkOutdent = function(line, input) {\n        if (! /^\\s+$/.test(line))\n            return false;\n\n        return /^\\s*\\}/.test(input);\n    };\n\n    this.autoOutdent = function(doc, row) {\n        var line = doc.getLine(row);\n        var match = line.match(/^(\\s*\\})/);\n\n        if (!match) return 0;\n\n        var column = match[1].length;\n        var openBracePos = doc.findMatchingBracket({row: row, column: column});\n\n        if (!openBracePos || openBracePos.row == row) return 0;\n\n        var indent = this.$getIndent(doc.getLine(openBracePos.row));\n        doc.replace(new Range(row, 0, row, column-1), indent);\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n}).call(MatchingBraceOutdent.prototype);\n\nexports.MatchingBraceOutdent = MatchingBraceOutdent;\n});\n\ndefine(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {};\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar getWrapped = function(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n                0,\n                selection.start.column + 1,\n                rowDiff,\n                selection.end.column + (rowDiff ? 0 : 1)\n            ]\n    };\n};\n\nvar CstyleBehaviour = function() {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '\"' || text == \"'\") {\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"'\" && selected != '\"' && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            } else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                \n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                \n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                \n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                } else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1,1]\n                };\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && (selected == '\"' || selected == \"'\")) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\ndefine(\"ace/mode/folding/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/range\",\"ace/mode/folding/fold_mode\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Range = require(\"../../range\").Range;\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(commentRegex) {\n    if (commentRegex) {\n        this.foldingStartMarker = new RegExp(\n            this.foldingStartMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.start)\n        );\n        this.foldingStopMarker = new RegExp(\n            this.foldingStopMarker.source.replace(/\\|[^|]*?$/, \"|\" + commentRegex.end)\n        );\n    }\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n    \n    this.foldingStartMarker = /(\\{|\\[)[^\\}\\]]*$|^\\s*(\\/\\*)/;\n    this.foldingStopMarker = /^[^\\[\\{]*(\\}|\\])|^[\\s\\*]*(\\*\\/)/;\n    this.singleLineBlockCommentRe= /^\\s*(\\/\\*).*\\*\\/\\s*$/;\n    this.tripleStarBlockCommentRe = /^\\s*(\\/\\*\\*\\*).*\\*\\/\\s*$/;\n    this.startRegionRe = /^\\s*(\\/\\*|\\/\\/)#?region\\b/;\n    this._getFoldWidgetBase = this.getFoldWidget;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n    \n        if (this.singleLineBlockCommentRe.test(line)) {\n            if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))\n                return \"\";\n        }\n    \n        var fw = this._getFoldWidgetBase(session, foldStyle, row);\n    \n        if (!fw && this.startRegionRe.test(line))\n            return \"start\"; // lineCommentRegionStart\n    \n        return fw;\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {\n        var line = session.getLine(row);\n        \n        if (this.startRegionRe.test(line))\n            return this.getCommentRegionBlock(session, line, row);\n        \n        var match = line.match(this.foldingStartMarker);\n        if (match) {\n            var i = match.index;\n\n            if (match[1])\n                return this.openingBracketBlock(session, match[1], row, i);\n                \n            var range = session.getCommentFoldRange(row, i + match[0].length, 1);\n            \n            if (range && !range.isMultiLine()) {\n                if (forceMultiline) {\n                    range = this.getSectionRange(session, row);\n                } else if (foldStyle != \"all\")\n                    range = null;\n            }\n            \n            return range;\n        }\n\n        if (foldStyle === \"markbegin\")\n            return;\n\n        var match = line.match(this.foldingStopMarker);\n        if (match) {\n            var i = match.index + match[0].length;\n\n            if (match[1])\n                return this.closingBracketBlock(session, match[1], row, i);\n\n            return session.getCommentFoldRange(row, i, -1);\n        }\n    };\n    \n    this.getSectionRange = function(session, row) {\n        var line = session.getLine(row);\n        var startIndent = line.search(/\\S/);\n        var startRow = row;\n        var startColumn = line.length;\n        row = row + 1;\n        var endRow = row;\n        var maxRow = session.getLength();\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var indent = line.search(/\\S/);\n            if (indent === -1)\n                continue;\n            if  (startIndent > indent)\n                break;\n            var subRange = this.getFoldWidgetRange(session, \"all\", row);\n            \n            if (subRange) {\n                if (subRange.start.row <= startRow) {\n                    break;\n                } else if (subRange.isMultiLine()) {\n                    row = subRange.end.row;\n                } else if (startIndent == indent) {\n                    break;\n                }\n            }\n            endRow = row;\n        }\n        \n        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);\n    };\n    this.getCommentRegionBlock = function(session, line, row) {\n        var startColumn = line.search(/\\s*$/);\n        var maxRow = session.getLength();\n        var startRow = row;\n        \n        var re = /^\\s*(?:\\/\\*|\\/\\/|--)#?(end)?region\\b/;\n        var depth = 1;\n        while (++row < maxRow) {\n            line = session.getLine(row);\n            var m = re.exec(line);\n            if (!m) continue;\n            if (m[1]) depth--;\n            else depth++;\n\n            if (!depth) break;\n        }\n\n        var endRow = row;\n        if (endRow > startRow) {\n            return new Range(startRow, startColumn, endRow, line.length);\n        }\n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine(\"ace/mode/javascript\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/javascript_highlight_rules\",\"ace/mode/matching_brace_outdent\",\"ace/range\",\"ace/worker/worker_client\",\"ace/mode/behaviour/cstyle\",\"ace/mode/folding/cstyle\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar JavaScriptHighlightRules = require(\"./javascript_highlight_rules\").JavaScriptHighlightRules;\nvar MatchingBraceOutdent = require(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar Range = require(\"../range\").Range;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar CStyleFoldMode = require(\"./folding/cstyle\").FoldMode;\n\nvar Mode = function() {\n    this.HighlightRules = JavaScriptHighlightRules;\n    \n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CstyleBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.lineCommentStart = \"//\";\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n\n        var tokenizedLine = this.getTokenizer().getLineTokens(line, state);\n        var tokens = tokenizedLine.tokens;\n        var endState = tokenizedLine.state;\n\n        if (tokens.length && tokens[tokens.length-1].type == \"comment\") {\n            return indent;\n        }\n\n        if (state == \"start\" || state == \"no_regex\") {\n            var match = line.match(/^.*(?:\\bcase\\b.*\\:|[\\{\\(\\[])\\s*$/);\n            if (match) {\n                indent += tab;\n            }\n        } else if (state == \"doc-start\") {\n            if (endState == \"start\" || endState == \"no_regex\") {\n                return \"\";\n            }\n            var match = line.match(/^\\s*(\\/?)\\*/);\n            if (match) {\n                if (match[1]) {\n                    indent += \" \";\n                }\n                indent += \"* \";\n            }\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/javascript_worker\", \"JavaScriptWorker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"annotate\", function(results) {\n            session.setAnnotations(results.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/javascript\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine(\"ace/mode/xml_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\n\nvar XmlHighlightRules = function(normalize) {\n    var tagRegex = \"[_:a-zA-Z\\xc0-\\uffff][-_:.a-zA-Z0-9\\xc0-\\uffff]*\";\n\n    this.$rules = {\n        start : [\n            {token : \"string.cdata.xml\", regex : \"<\\\\!\\\\[CDATA\\\\[\", next : \"cdata\"},\n            {\n                token : [\"punctuation.xml-decl.xml\", \"keyword.xml-decl.xml\"],\n                regex : \"(<\\\\?)(xml)(?=[\\\\s])\", next : \"xml_decl\", caseInsensitive: true\n            },\n            {\n                token : [\"punctuation.instruction.xml\", \"keyword.instruction.xml\"],\n                regex : \"(<\\\\?)(\" + tagRegex + \")\", next : \"processing_instruction\",\n            },\n            {token : \"comment.xml\", regex : \"<\\\\!--\", next : \"comment\"},\n            {\n                token : [\"xml-pe.doctype.xml\", \"xml-pe.doctype.xml\"],\n                regex : \"(<\\\\!)(DOCTYPE)(?=[\\\\s])\", next : \"doctype\", caseInsensitive: true\n            },\n            {include : \"tag\"},\n            {token : \"text.end-tag-open.xml\", regex: \"</\"},\n            {token : \"text.tag-open.xml\", regex: \"<\"},\n            {include : \"reference\"},\n            {defaultToken : \"text.xml\"}\n        ],\n\n        xml_decl : [{\n            token : \"entity.other.attribute-name.decl-attribute-name.xml\",\n            regex : \"(?:\" + tagRegex + \":)?\" + tagRegex + \"\"\n        }, {\n            token : \"keyword.operator.decl-attribute-equals.xml\",\n            regex : \"=\"\n        }, {\n            include: \"whitespace\"\n        }, {\n            include: \"string\"\n        }, {\n            token : \"punctuation.xml-decl.xml\",\n            regex : \"\\\\?>\",\n            next : \"start\"\n        }],\n\n        processing_instruction : [\n            {token : \"punctuation.instruction.xml\", regex : \"\\\\?>\", next : \"start\"},\n            {defaultToken : \"instruction.xml\"}\n        ],\n\n        doctype : [\n            {include : \"whitespace\"},\n            {include : \"string\"},\n            {token : \"xml-pe.doctype.xml\", regex : \">\", next : \"start\"},\n            {token : \"xml-pe.xml\", regex : \"[-_a-zA-Z0-9:]+\"},\n            {token : \"punctuation.int-subset\", regex : \"\\\\[\", push : \"int_subset\"}\n        ],\n\n        int_subset : [{\n            token : \"text.xml\",\n            regex : \"\\\\s+\"\n        }, {\n            token: \"punctuation.int-subset.xml\",\n            regex: \"]\",\n            next: \"pop\"\n        }, {\n            token : [\"punctuation.markup-decl.xml\", \"keyword.markup-decl.xml\"],\n            regex : \"(<\\\\!)(\" + tagRegex + \")\",\n            push : [{\n                token : \"text\",\n                regex : \"\\\\s+\"\n            },\n            {\n                token : \"punctuation.markup-decl.xml\",\n                regex : \">\",\n                next : \"pop\"\n            },\n            {include : \"string\"}]\n        }],\n\n        cdata : [\n            {token : \"string.cdata.xml\", regex : \"\\\\]\\\\]>\", next : \"start\"},\n            {token : \"text.xml\", regex : \"\\\\s+\"},\n            {token : \"text.xml\", regex : \"(?:[^\\\\]]|\\\\](?!\\\\]>))+\"}\n        ],\n\n        comment : [\n            {token : \"comment.xml\", regex : \"-->\", next : \"start\"},\n            {defaultToken : \"comment.xml\"}\n        ],\n\n        reference : [{\n            token : \"constant.language.escape.reference.xml\",\n            regex : \"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)\"\n        }],\n\n        attr_reference : [{\n            token : \"constant.language.escape.reference.attribute-value.xml\",\n            regex : \"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\\\.-]+;)\"\n        }],\n\n        tag : [{\n            token : [\"meta.tag.punctuation.tag-open.xml\", \"meta.tag.punctuation.end-tag-open.xml\", \"meta.tag.tag-name.xml\"],\n            regex : \"(?:(<)|(</))((?:\" + tagRegex + \":)?\" + tagRegex + \")\",\n            next: [\n                {include : \"attributes\"},\n                {token : \"meta.tag.punctuation.tag-close.xml\", regex : \"/?>\", next : \"start\"}\n            ]\n        }],\n\n        tag_whitespace : [\n            {token : \"text.tag-whitespace.xml\", regex : \"\\\\s+\"}\n        ],\n        whitespace : [\n            {token : \"text.whitespace.xml\", regex : \"\\\\s+\"}\n        ],\n        string: [{\n            token : \"string.xml\",\n            regex : \"'\",\n            push : [\n                {token : \"string.xml\", regex: \"'\", next: \"pop\"},\n                {defaultToken : \"string.xml\"}\n            ]\n        }, {\n            token : \"string.xml\",\n            regex : '\"',\n            push : [\n                {token : \"string.xml\", regex: '\"', next: \"pop\"},\n                {defaultToken : \"string.xml\"}\n            ]\n        }],\n\n        attributes: [{\n            token : \"entity.other.attribute-name.xml\",\n            regex : \"(?:\" + tagRegex + \":)?\" + tagRegex + \"\"\n        }, {\n            token : \"keyword.operator.attribute-equals.xml\",\n            regex : \"=\"\n        }, {\n            include: \"tag_whitespace\"\n        }, {\n            include: \"attribute_value\"\n        }],\n\n        attribute_value: [{\n            token : \"string.attribute-value.xml\",\n            regex : \"'\",\n            push : [\n                {token : \"string.attribute-value.xml\", regex: \"'\", next: \"pop\"},\n                {include : \"attr_reference\"},\n                {defaultToken : \"string.attribute-value.xml\"}\n            ]\n        }, {\n            token : \"string.attribute-value.xml\",\n            regex : '\"',\n            push : [\n                {token : \"string.attribute-value.xml\", regex: '\"', next: \"pop\"},\n                {include : \"attr_reference\"},\n                {defaultToken : \"string.attribute-value.xml\"}\n            ]\n        }]\n    };\n\n    if (this.constructor === XmlHighlightRules)\n        this.normalizeRules();\n};\n\n\n(function() {\n\n    this.embedTagRules = function(HighlightRules, prefix, tag){\n        this.$rules.tag.unshift({\n            token : [\"meta.tag.punctuation.tag-open.xml\", \"meta.tag.\" + tag + \".tag-name.xml\"],\n            regex : \"(<)(\" + tag + \"(?=\\\\s|>|$))\",\n            next: [\n                {include : \"attributes\"},\n                {token : \"meta.tag.punctuation.tag-close.xml\", regex : \"/?>\", next : prefix + \"start\"}\n            ]\n        });\n\n        this.$rules[tag + \"-end\"] = [\n            {include : \"attributes\"},\n            {token : \"meta.tag.punctuation.tag-close.xml\", regex : \"/?>\",  next: \"start\",\n                onMatch : function(value, currentState, stack) {\n                    stack.splice(0);\n                    return this.token;\n            }}\n        ]\n\n        this.embedRules(HighlightRules, prefix, [{\n            token: [\"meta.tag.punctuation.end-tag-open.xml\", \"meta.tag.\" + tag + \".tag-name.xml\"],\n            regex : \"(</)(\" + tag + \"(?=\\\\s|>|$))\",\n            next: tag + \"-end\"\n        }, {\n            token: \"string.cdata.xml\",\n            regex : \"<\\\\!\\\\[CDATA\\\\[\"\n        }, {\n            token: \"string.cdata.xml\",\n            regex : \"\\\\]\\\\]>\"\n        }]);\n    };\n\n}).call(TextHighlightRules.prototype);\n\noop.inherits(XmlHighlightRules, TextHighlightRules);\n\nexports.XmlHighlightRules = XmlHighlightRules;\n});\n\ndefine(\"ace/mode/behaviour/xml\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nfunction is(token, type) {\n    return token.type.lastIndexOf(type + \".xml\") > -1;\n}\n\nvar XmlBehaviour = function () {\n\n    this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '\"' || text == \"'\") {\n            var quote = text;\n            var selected = session.doc.getTextRange(editor.getSelectionRange());\n            if (selected !== \"\" && selected !== \"'\" && selected != '\"' && editor.getWrapBehavioursEnabled()) {\n                return {\n                    text: quote + selected + quote,\n                    selection: false\n                };\n            }\n\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n\n            if (rightChar == quote && (is(token, \"attribute-value\") || is(token, \"string\"))) {\n                return {\n                    text: \"\",\n                    selection: [1, 1]\n                };\n            }\n\n            if (!token)\n                token = iterator.stepBackward();\n\n            if (!token)\n                return;\n\n            while (is(token, \"tag-whitespace\") || is(token, \"whitespace\")) {\n                token = iterator.stepBackward();\n            }\n            var rightSpace = !rightChar || rightChar.match(/\\s/);\n            if (is(token, \"attribute-equals\") && (rightSpace || rightChar == '>') || (is(token, \"decl-attribute-equals\") && (rightSpace || rightChar == '?'))) {\n                return {\n                    text: quote + quote,\n                    selection: [1, 1]\n                };\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && (selected == '\"' || selected == \"'\")) {\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"autoclosing\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '>') {\n            var position = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, position.row, position.column);\n            var token = iterator.getCurrentToken() || iterator.stepBackward();\n            if (!token || !(is(token, \"tag-name\") || is(token, \"tag-whitespace\") || is(token, \"attribute-name\") || is(token, \"attribute-equals\") || is(token, \"attribute-value\")))\n                return;\n            if (is(token, \"reference.attribute-value\"))\n                return;\n            if (is(token, \"attribute-value\")) {\n                var firstChar = token.value.charAt(0);\n                if (firstChar == '\"' || firstChar == \"'\") {\n                    var lastChar = token.value.charAt(token.value.length - 1);\n                    var tokenEnd = iterator.getCurrentTokenColumn() + token.value.length;\n                    if (tokenEnd > position.column || tokenEnd == position.column && firstChar != lastChar)\n                        return;\n                }\n            }\n            while (!is(token, \"tag-name\")) {\n                token = iterator.stepBackward();\n            }\n\n            var tokenRow = iterator.getCurrentTokenRow();\n            var tokenColumn = iterator.getCurrentTokenColumn();\n            if (is(iterator.stepBackward(), \"end-tag-open\"))\n                return;\n\n            var element = token.value;\n            if (tokenRow == position.row)\n                element = element.substring(0, position.column - tokenColumn);\n\n            if (this.voidElements.hasOwnProperty(element.toLowerCase()))\n                 return;\n\n            return {\n               text: \">\" + \"</\" + element + \">\",\n               selection: [1, 1]\n            };\n        }\n    });\n\n    this.add(\"autoindent\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == \"\\n\") {\n            var cursor = editor.getCursorPosition();\n            var line = session.getLine(cursor.row);\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n\n            if (token && token.type.indexOf(\"tag-close\") !== -1) {\n                if (token.value == \"/>\")\n                    return;\n                while (token && token.type.indexOf(\"tag-name\") === -1) {\n                    token = iterator.stepBackward();\n                }\n\n                if (!token) {\n                    return;\n                }\n\n                var tag = token.value;\n                var row = iterator.getCurrentTokenRow();\n                token = iterator.stepBackward();\n                if (!token || token.type.indexOf(\"end-tag\") !== -1) {\n                    return;\n                }\n\n                if (this.voidElements && !this.voidElements[tag]) {\n                    var nextToken = session.getTokenAt(cursor.row, cursor.column+1);\n                    var line = session.getLine(row);\n                    var nextIndent = this.$getIndent(line);\n                    var indent = nextIndent + session.getTabString();\n\n                    if (nextToken && nextToken.value === \"</\") {\n                        return {\n                            text: \"\\n\" + indent + \"\\n\" + nextIndent,\n                            selection: [1, indent.length, 1, indent.length]\n                        };\n                    } else {\n                        return {\n                            text: \"\\n\" + indent\n                        };\n                    }\n                }\n            }\n        }\n    });\n\n};\n\noop.inherits(XmlBehaviour, Behaviour);\n\nexports.XmlBehaviour = XmlBehaviour;\n});\n\ndefine(\"ace/mode/folding/xml\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/range\",\"ace/mode/folding/fold_mode\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar lang = require(\"../../lib/lang\");\nvar Range = require(\"../../range\").Range;\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nvar FoldMode = exports.FoldMode = function(voidElements, optionalEndTags) {\n    BaseFoldMode.call(this);\n    this.voidElements = voidElements || {};\n    this.optionalEndTags = oop.mixin({}, this.voidElements);\n    if (optionalEndTags)\n        oop.mixin(this.optionalEndTags, optionalEndTags);\n    \n};\noop.inherits(FoldMode, BaseFoldMode);\n\nvar Tag = function() {\n    this.tagName = \"\";\n    this.closing = false;\n    this.selfClosing = false;\n    this.start = {row: 0, column: 0};\n    this.end = {row: 0, column: 0};\n};\n\nfunction is(token, type) {\n    return token.type.lastIndexOf(type + \".xml\") > -1;\n}\n\n(function() {\n\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var tag = this._getFirstTagInLine(session, row);\n\n        if (!tag)\n            return \"\";\n\n        if (tag.closing || (!tag.tagName && tag.selfClosing))\n            return foldStyle == \"markbeginend\" ? \"end\" : \"\";\n\n        if (!tag.tagName || tag.selfClosing || this.voidElements.hasOwnProperty(tag.tagName.toLowerCase()))\n            return \"\";\n\n        if (this._findEndTagInLine(session, row, tag.tagName, tag.end.column))\n            return \"\";\n\n        return \"start\";\n    };\n    this._getFirstTagInLine = function(session, row) {\n        var tokens = session.getTokens(row);\n        var tag = new Tag();\n\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (is(token, \"tag-open\")) {\n                tag.end.column = tag.start.column + token.value.length;\n                tag.closing = is(token, \"end-tag-open\");\n                token = tokens[++i];\n                if (!token)\n                    return null;\n                tag.tagName = token.value;\n                tag.end.column += token.value.length;\n                for (i++; i < tokens.length; i++) {\n                    token = tokens[i];\n                    tag.end.column += token.value.length;\n                    if (is(token, \"tag-close\")) {\n                        tag.selfClosing = token.value == '/>';\n                        break;\n                    }\n                }\n                return tag;\n            } else if (is(token, \"tag-close\")) {\n                tag.selfClosing = token.value == '/>';\n                return tag;\n            }\n            tag.start.column += token.value.length;\n        }\n\n        return null;\n    };\n\n    this._findEndTagInLine = function(session, row, tagName, startColumn) {\n        var tokens = session.getTokens(row);\n        var column = 0;\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            column += token.value.length;\n            if (column < startColumn)\n                continue;\n            if (is(token, \"end-tag-open\")) {\n                token = tokens[i + 1];\n                if (token && token.value == tagName)\n                    return true;\n            }\n        }\n        return false;\n    };\n    this._readTagForward = function(iterator) {\n        var token = iterator.getCurrentToken();\n        if (!token)\n            return null;\n\n        var tag = new Tag();\n        do {\n            if (is(token, \"tag-open\")) {\n                tag.closing = is(token, \"end-tag-open\");\n                tag.start.row = iterator.getCurrentTokenRow();\n                tag.start.column = iterator.getCurrentTokenColumn();\n            } else if (is(token, \"tag-name\")) {\n                tag.tagName = token.value;\n            } else if (is(token, \"tag-close\")) {\n                tag.selfClosing = token.value == \"/>\";\n                tag.end.row = iterator.getCurrentTokenRow();\n                tag.end.column = iterator.getCurrentTokenColumn() + token.value.length;\n                iterator.stepForward();\n                return tag;\n            }\n        } while(token = iterator.stepForward());\n\n        return null;\n    };\n    \n    this._readTagBackward = function(iterator) {\n        var token = iterator.getCurrentToken();\n        if (!token)\n            return null;\n\n        var tag = new Tag();\n        do {\n            if (is(token, \"tag-open\")) {\n                tag.closing = is(token, \"end-tag-open\");\n                tag.start.row = iterator.getCurrentTokenRow();\n                tag.start.column = iterator.getCurrentTokenColumn();\n                iterator.stepBackward();\n                return tag;\n            } else if (is(token, \"tag-name\")) {\n                tag.tagName = token.value;\n            } else if (is(token, \"tag-close\")) {\n                tag.selfClosing = token.value == \"/>\";\n                tag.end.row = iterator.getCurrentTokenRow();\n                tag.end.column = iterator.getCurrentTokenColumn() + token.value.length;\n            }\n        } while(token = iterator.stepBackward());\n\n        return null;\n    };\n    \n    this._pop = function(stack, tag) {\n        while (stack.length) {\n            \n            var top = stack[stack.length-1];\n            if (!tag || top.tagName == tag.tagName) {\n                return stack.pop();\n            }\n            else if (this.optionalEndTags.hasOwnProperty(top.tagName)) {\n                stack.pop();\n                continue;\n            } else {\n                return null;\n            }\n        }\n    };\n    \n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        var firstTag = this._getFirstTagInLine(session, row);\n        \n        if (!firstTag)\n            return null;\n        \n        var isBackward = firstTag.closing || firstTag.selfClosing;\n        var stack = [];\n        var tag;\n        \n        if (!isBackward) {\n            var iterator = new TokenIterator(session, row, firstTag.start.column);\n            var start = {\n                row: row,\n                column: firstTag.start.column + firstTag.tagName.length + 2\n            };\n            if (firstTag.start.row == firstTag.end.row)\n                start.column = firstTag.end.column;\n            while (tag = this._readTagForward(iterator)) {\n                if (tag.selfClosing) {\n                    if (!stack.length) {\n                        tag.start.column += tag.tagName.length + 2;\n                        tag.end.column -= 2;\n                        return Range.fromPoints(tag.start, tag.end);\n                    } else\n                        continue;\n                }\n                \n                if (tag.closing) {\n                    this._pop(stack, tag);\n                    if (stack.length == 0)\n                        return Range.fromPoints(start, tag.start);\n                }\n                else {\n                    stack.push(tag);\n                }\n            }\n        }\n        else {\n            var iterator = new TokenIterator(session, row, firstTag.end.column);\n            var end = {\n                row: row,\n                column: firstTag.start.column\n            };\n            \n            while (tag = this._readTagBackward(iterator)) {\n                if (tag.selfClosing) {\n                    if (!stack.length) {\n                        tag.start.column += tag.tagName.length + 2;\n                        tag.end.column -= 2;\n                        return Range.fromPoints(tag.start, tag.end);\n                    } else\n                        continue;\n                }\n                \n                if (!tag.closing) {\n                    this._pop(stack, tag);\n                    if (stack.length == 0) {\n                        tag.start.column += tag.tagName.length + 2;\n                        if (tag.start.row == tag.end.row && tag.start.column < tag.end.column)\n                            tag.start.column = tag.end.column;\n                        return Range.fromPoints(tag.start, end);\n                    }\n                }\n                else {\n                    stack.push(tag);\n                }\n            }\n        }\n        \n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine(\"ace/mode/xml\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/mode/text\",\"ace/mode/xml_highlight_rules\",\"ace/mode/behaviour/xml\",\"ace/mode/folding/xml\",\"ace/worker/worker_client\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar TextMode = require(\"./text\").Mode;\nvar XmlHighlightRules = require(\"./xml_highlight_rules\").XmlHighlightRules;\nvar XmlBehaviour = require(\"./behaviour/xml\").XmlBehaviour;\nvar XmlFoldMode = require(\"./folding/xml\").FoldMode;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\n\nvar Mode = function() {\n   this.HighlightRules = XmlHighlightRules;\n   this.$behaviour = new XmlBehaviour();\n   this.foldingRules = new XmlFoldMode();\n};\n\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.voidElements = lang.arrayToMap([]);\n\n    this.blockComment = {start: \"<!--\", end: \"-->\"};\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/xml_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"error\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n    \n    this.$id = \"ace/mode/xml\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine(\"ace/mode/css_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/mode/text_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar supportType = exports.supportType = \"animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index\";\nvar supportFunction = exports.supportFunction = \"rgb|rgba|url|attr|counter|counters\";\nvar supportConstant = exports.supportConstant = \"absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero\";\nvar supportConstantColor = exports.supportConstantColor = \"aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow\";\nvar supportConstantFonts = exports.supportConstantFonts = \"arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace\";\n\nvar numRe = exports.numRe = \"\\\\-?(?:(?:[0-9]+)|(?:[0-9]*\\\\.[0-9]+))\";\nvar pseudoElements = exports.pseudoElements = \"(\\\\:+)\\\\b(after|before|first-letter|first-line|moz-selection|selection)\\\\b\";\nvar pseudoClasses  = exports.pseudoClasses =  \"(:)\\\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\\\b\";\n\nvar CssHighlightRules = function() {\n\n    var keywordMapper = this.createKeywordMapper({\n        \"support.function\": supportFunction,\n        \"support.constant\": supportConstant,\n        \"support.type\": supportType,\n        \"support.constant.color\": supportConstantColor,\n        \"support.constant.fonts\": supportConstantFonts\n    }, \"text\", true);\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"@.*?{\",\n            push:  \"media\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"media\" : [{\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token: \"paren.lparen\",\n            regex: \"\\\\{\",\n            push:  \"ruleset\"\n        }, {\n            token: \"string\",\n            regex: \"\\\\}\",\n            next:  \"pop\"\n        }, {\n            token: \"keyword\",\n            regex: \"#[a-z0-9-_]+\"\n        }, {\n            token: \"variable\",\n            regex: \"\\\\.[a-z0-9-_]+\"\n        }, {\n            token: \"string\",\n            regex: \":[a-z0-9-_]+\"\n        }, {\n            token: \"constant\",\n            regex: \"[a-z0-9-_]+\"\n        }, {\n            caseInsensitive: true\n        }],\n\n        \"comment\" : [{\n            token : \"comment\",\n            regex : \"\\\\*\\\\/\",\n            next : \"pop\"\n        }, {\n            defaultToken : \"comment\"\n        }],\n\n        \"ruleset\" : [\n        {\n            token : \"paren.rparen\",\n            regex : \"\\\\}\",\n            next:   \"pop\"\n        }, {\n            token : \"comment\", // multi line comment\n            regex : \"\\\\/\\\\*\",\n            push : \"comment\"\n        }, {\n            token : \"string\", // single line\n            regex : '[\"](?:(?:\\\\\\\\.)|(?:[^\"\\\\\\\\]))*?[\"]'\n        }, {\n            token : \"string\", // single line\n            regex : \"['](?:(?:\\\\\\\\.)|(?:[^'\\\\\\\\]))*?[']\"\n        }, {\n            token : [\"constant.numeric\", \"keyword\"],\n            regex : \"(\" + numRe + \")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)\"\n        }, {\n            token : \"constant.numeric\",\n            regex : numRe\n        }, {\n            token : \"constant.numeric\",  // hex6 color\n            regex : \"#[a-f0-9]{6}\"\n        }, {\n            token : \"constant.numeric\", // hex3 color\n            regex : \"#[a-f0-9]{3}\"\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-element.css\"],\n            regex : pseudoElements\n        }, {\n            token : [\"punctuation\", \"entity.other.attribute-name.pseudo-class.css\"],\n            regex : pseudoClasses\n        }, {\n            token : [\"support.function\", \"string\", \"support.function\"],\n            regex : \"(url\\\\()(.*)(\\\\))\"\n        }, {\n            token : keywordMapper,\n            regex : \"\\\\-?[a-zA-Z_][a-zA-Z0-9_\\\\-]*\"\n        }, {\n            caseInsensitive: true\n        }]\n    };\n\n    this.normalizeRules();\n};\n\noop.inherits(CssHighlightRules, TextHighlightRules);\n\nexports.CssHighlightRules = CssHighlightRules;\n\n});\n\ndefine(\"ace/mode/behaviour/css\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/mode/behaviour/cstyle\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar CstyleBehaviour = require(\"./cstyle\").CstyleBehaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\n\nvar CssBehaviour = function () {\n\n    this.inherit(CstyleBehaviour);\n\n    this.add(\"colon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar === ':') {\n                    return {\n                       text: '',\n                       selection: [1, 1]\n                    }\n                }\n                if (!line.substring(cursor.column).match(/^\\s*;/)) {\n                    return {\n                       text: ':;',\n                       selection: [1, 1]\n                    }\n                }\n            }\n        }\n    });\n\n    this.add(\"colon\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected === ':') {\n            var cursor = editor.getCursorPosition();\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            if (token && token.value.match(/\\s+/)) {\n                token = iterator.stepBackward();\n            }\n            if (token && token.type === 'support.type') {\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.end.column, range.end.column + 1);\n                if (rightChar === ';') {\n                    range.end.column ++;\n                    return range;\n                }\n            }\n        }\n    });\n\n    this.add(\"semicolon\", \"insertion\", function (state, action, editor, session, text) {\n        if (text === ';') {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === ';') {\n                return {\n                   text: '',\n                   selection: [1, 1]\n                }\n            }\n        }\n    });\n\n}\noop.inherits(CssBehaviour, CstyleBehaviour);\n\nexports.CssBehaviour = CssBehaviour;\n});\n\ndefine(\"ace/mode/css\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/css_highlight_rules\",\"ace/mode/matching_brace_outdent\",\"ace/worker/worker_client\",\"ace/mode/behaviour/css\",\"ace/mode/folding/cstyle\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar CssHighlightRules = require(\"./css_highlight_rules\").CssHighlightRules;\nvar MatchingBraceOutdent = require(\"./matching_brace_outdent\").MatchingBraceOutdent;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\nvar CssBehaviour = require(\"./behaviour/css\").CssBehaviour;\nvar CStyleFoldMode = require(\"./folding/cstyle\").FoldMode;\n\nvar Mode = function() {\n    this.HighlightRules = CssHighlightRules;\n    this.$outdent = new MatchingBraceOutdent();\n    this.$behaviour = new CssBehaviour();\n    this.foldingRules = new CStyleFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.foldingRules = \"cStyle\";\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        var indent = this.$getIndent(line);\n        var tokens = this.getTokenizer().getLineTokens(line, state).tokens;\n        if (tokens.length && tokens[tokens.length-1].type == \"comment\") {\n            return indent;\n        }\n\n        var match = line.match(/^.*\\{\\s*$/);\n        if (match) {\n            indent += tab;\n        }\n\n        return indent;\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return this.$outdent.checkOutdent(line, input);\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n        this.$outdent.autoOutdent(doc, row);\n    };\n\n    this.createWorker = function(session) {\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/css_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        worker.on(\"annotate\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/css\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n\n});\n\ndefine(\"ace/mode/html_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/mode/css_highlight_rules\",\"ace/mode/javascript_highlight_rules\",\"ace/mode/xml_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar CssHighlightRules = require(\"./css_highlight_rules\").CssHighlightRules;\nvar JavaScriptHighlightRules = require(\"./javascript_highlight_rules\").JavaScriptHighlightRules;\nvar XmlHighlightRules = require(\"./xml_highlight_rules\").XmlHighlightRules;\n\nvar tagMap = lang.createMap({\n    a           : 'anchor',\n    button \t    : 'form',\n    form        : 'form',\n    img         : 'image',\n    input       : 'form',\n    label       : 'form',\n    option      : 'form',\n    script      : 'script',\n    select      : 'form',\n    textarea    : 'form',\n    style       : 'style',\n    table       : 'table',\n    tbody       : 'table',\n    td          : 'table',\n    tfoot       : 'table',\n    th          : 'table',\n    tr          : 'table'\n});\n\nvar HtmlHighlightRules = function() {\n    XmlHighlightRules.call(this);\n\n    this.addRules({\n        attributes: [{\n            include : \"tag_whitespace\"\n        }, {\n            token : \"entity.other.attribute-name.xml\",\n            regex : \"[-_a-zA-Z0-9:.]+\"\n        }, {\n            token : \"keyword.operator.attribute-equals.xml\",\n            regex : \"=\",\n            push : [{\n                include: \"tag_whitespace\"\n            }, {\n                token : \"string.unquoted.attribute-value.html\",\n                regex : \"[^<>='\\\"`\\\\s]+\",\n                next : \"pop\"\n            }, {\n                token : \"empty\",\n                regex : \"\",\n                next : \"pop\"\n            }]\n        }, {\n            include : \"attribute_value\"\n        }],\n        tag: [{\n            token : function(start, tag) {\n                var group = tagMap[tag];\n                return [\"meta.tag.punctuation.\" + (start == \"<\" ? \"\" : \"end-\") + \"tag-open.xml\",\n                    \"meta.tag\" + (group ? \".\" + group : \"\") + \".tag-name.xml\"];\n            },\n            regex : \"(</?)([-_a-zA-Z0-9:.]+)\",\n            next: \"tag_stuff\"\n        }],\n        tag_stuff: [\n            {include : \"attributes\"},\n            {token : \"meta.tag.punctuation.tag-close.xml\", regex : \"/?>\", next : \"start\"}\n        ],\n    });\n\n    this.embedTagRules(CssHighlightRules, \"css-\", \"style\");\n    this.embedTagRules(JavaScriptHighlightRules, \"js-\", \"script\");\n\n    if (this.constructor === HtmlHighlightRules)\n        this.normalizeRules();\n};\n\noop.inherits(HtmlHighlightRules, XmlHighlightRules);\n\nexports.HtmlHighlightRules = HtmlHighlightRules;\n});\n\ndefine(\"ace/mode/folding/mixed\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/folding/fold_mode\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(defaultMode, subModes) {\n    this.defaultMode = defaultMode;\n    this.subModes = subModes;\n};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n\n\n    this.$getMode = function(state) {\n        if (typeof state != \"string\") \n            state = state[0];\n        for (var key in this.subModes) {\n            if (state.indexOf(key) === 0)\n                return this.subModes[key];\n        }\n        return null;\n    };\n    \n    this.$tryMode = function(state, session, foldStyle, row) {\n        var mode = this.$getMode(state);\n        return (mode ? mode.getFoldWidget(session, foldStyle, row) : \"\");\n    };\n\n    this.getFoldWidget = function(session, foldStyle, row) {\n        return (\n            this.$tryMode(session.getState(row-1), session, foldStyle, row) ||\n            this.$tryMode(session.getState(row), session, foldStyle, row) ||\n            this.defaultMode.getFoldWidget(session, foldStyle, row)\n        );\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        var mode = this.$getMode(session.getState(row-1));\n        \n        if (!mode || !mode.getFoldWidget(session, foldStyle, row))\n            mode = this.$getMode(session.getState(row));\n        \n        if (!mode || !mode.getFoldWidget(session, foldStyle, row))\n            mode = this.defaultMode;\n        \n        return mode.getFoldWidgetRange(session, foldStyle, row);\n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine(\"ace/mode/folding/html\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/folding/mixed\",\"ace/mode/folding/xml\",\"ace/mode/folding/cstyle\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar MixedFoldMode = require(\"./mixed\").FoldMode;\nvar XmlFoldMode = require(\"./xml\").FoldMode;\nvar CStyleFoldMode = require(\"./cstyle\").FoldMode;\n\nvar FoldMode = exports.FoldMode = function(voidElements, optionalTags) {\n    MixedFoldMode.call(this, new XmlFoldMode(voidElements, optionalTags), {\n        \"js-\": new CStyleFoldMode(),\n        \"css-\": new CStyleFoldMode()\n    });\n};\n\noop.inherits(FoldMode, MixedFoldMode);\n\n});\n\ndefine(\"ace/mode/html_completions\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nvar commonAttributes = [\n    \"accesskey\",\n    \"class\",\n    \"contenteditable\",\n    \"contextmenu\",\n    \"dir\",\n    \"draggable\",\n    \"dropzone\",\n    \"hidden\",\n    \"id\",\n    \"inert\",\n    \"itemid\",\n    \"itemprop\",\n    \"itemref\",\n    \"itemscope\",\n    \"itemtype\",\n    \"lang\",\n    \"spellcheck\",\n    \"style\",\n    \"tabindex\",\n    \"title\",\n    \"translate\"\n];\n\nvar eventAttributes = [\n    \"onabort\",\n    \"onblur\",\n    \"oncancel\",\n    \"oncanplay\",\n    \"oncanplaythrough\",\n    \"onchange\",\n    \"onclick\",\n    \"onclose\",\n    \"oncontextmenu\",\n    \"oncuechange\",\n    \"ondblclick\",\n    \"ondrag\",\n    \"ondragend\",\n    \"ondragenter\",\n    \"ondragleave\",\n    \"ondragover\",\n    \"ondragstart\",\n    \"ondrop\",\n    \"ondurationchange\",\n    \"onemptied\",\n    \"onended\",\n    \"onerror\",\n    \"onfocus\",\n    \"oninput\",\n    \"oninvalid\",\n    \"onkeydown\",\n    \"onkeypress\",\n    \"onkeyup\",\n    \"onload\",\n    \"onloadeddata\",\n    \"onloadedmetadata\",\n    \"onloadstart\",\n    \"onmousedown\",\n    \"onmousemove\",\n    \"onmouseout\",\n    \"onmouseover\",\n    \"onmouseup\",\n    \"onmousewheel\",\n    \"onpause\",\n    \"onplay\",\n    \"onplaying\",\n    \"onprogress\",\n    \"onratechange\",\n    \"onreset\",\n    \"onscroll\",\n    \"onseeked\",\n    \"onseeking\",\n    \"onselect\",\n    \"onshow\",\n    \"onstalled\",\n    \"onsubmit\",\n    \"onsuspend\",\n    \"ontimeupdate\",\n    \"onvolumechange\",\n    \"onwaiting\"\n];\n\nvar globalAttributes = commonAttributes.concat(eventAttributes);\n\nvar attributeMap = {\n    \"html\": [\"manifest\"],\n    \"head\": [],\n    \"title\": [],\n    \"base\": [\"href\", \"target\"],\n    \"link\": [\"href\", \"hreflang\", \"rel\", \"media\", \"type\", \"sizes\"],\n    \"meta\": [\"http-equiv\", \"name\", \"content\", \"charset\"],\n    \"style\": [\"type\", \"media\", \"scoped\"],\n    \"script\": [\"charset\", \"type\", \"src\", \"defer\", \"async\"],\n    \"noscript\": [\"href\"],\n    \"body\": [\"onafterprint\", \"onbeforeprint\", \"onbeforeunload\", \"onhashchange\", \"onmessage\", \"onoffline\", \"onpopstate\", \"onredo\", \"onresize\", \"onstorage\", \"onundo\", \"onunload\"],\n    \"section\": [],\n    \"nav\": [],\n    \"article\": [\"pubdate\"],\n    \"aside\": [],\n    \"h1\": [],\n    \"h2\": [],\n    \"h3\": [],\n    \"h4\": [],\n    \"h5\": [],\n    \"h6\": [],\n    \"header\": [],\n    \"footer\": [],\n    \"address\": [],\n    \"main\": [],\n    \"p\": [],\n    \"hr\": [],\n    \"pre\": [],\n    \"blockquote\": [\"cite\"],\n    \"ol\": [\"start\", \"reversed\"],\n    \"ul\": [],\n    \"li\": [\"value\"],\n    \"dl\": [],\n    \"dt\": [],\n    \"dd\": [],\n    \"figure\": [],\n    \"figcaption\": [],\n    \"div\": [],\n    \"a\": [\"href\", \"target\", \"ping\", \"rel\", \"media\", \"hreflang\", \"type\"],\n    \"em\": [],\n    \"strong\": [],\n    \"small\": [],\n    \"s\": [],\n    \"cite\": [],\n    \"q\": [\"cite\"],\n    \"dfn\": [],\n    \"abbr\": [],\n    \"data\": [],\n    \"time\": [\"datetime\"],\n    \"code\": [],\n    \"var\": [],\n    \"samp\": [],\n    \"kbd\": [],\n    \"sub\": [],\n    \"sup\": [],\n    \"i\": [],\n    \"b\": [],\n    \"u\": [],\n    \"mark\": [],\n    \"ruby\": [],\n    \"rt\": [],\n    \"rp\": [],\n    \"bdi\": [],\n    \"bdo\": [],\n    \"span\": [],\n    \"br\": [],\n    \"wbr\": [],\n    \"ins\": [\"cite\", \"datetime\"],\n    \"del\": [\"cite\", \"datetime\"],\n    \"img\": [\"alt\", \"src\", \"height\", \"width\", \"usemap\", \"ismap\"],\n    \"iframe\": [\"name\", \"src\", \"height\", \"width\", \"sandbox\", \"seamless\"],\n    \"embed\": [\"src\", \"height\", \"width\", \"type\"],\n    \"object\": [\"param\", \"data\", \"type\", \"height\" , \"width\", \"usemap\", \"name\", \"form\", \"classid\"],\n    \"param\": [\"name\", \"value\"],\n    \"video\": [\"src\", \"autobuffer\", \"autoplay\", \"loop\", \"controls\", \"width\", \"height\", \"poster\"],\n    \"audio\": [\"src\", \"autobuffer\", \"autoplay\", \"loop\", \"controls\"],\n    \"source\": [\"src\", \"type\", \"media\"],\n    \"track\": [\"kind\", \"src\", \"srclang\", \"label\", \"default\"],\n    \"canvas\": [\"width\", \"height\"],\n    \"map\": [\"name\"],\n    \"area\": [\"shape\", \"coords\", \"href\", \"hreflang\", \"alt\", \"target\", \"media\", \"rel\", \"ping\", \"type\"],\n    \"svg\": [],\n    \"math\": [],\n    \"table\": [\"summary\"],\n    \"caption\": [],\n    \"colgroup\": [\"span\"],\n    \"col\": [\"span\"],\n    \"tbody\": [],\n    \"thead\": [],\n    \"tfoot\": [],\n    \"tr\": [],\n    \"td\": [\"headers\", \"rowspan\", \"colspan\"],\n    \"th\": [\"headers\", \"rowspan\", \"colspan\", \"scope\"],\n    \"form\": [\"accept-charset\", \"action\", \"autocomplete\", \"enctype\", \"method\", \"name\", \"novalidate\", \"target\"],\n    \"fieldset\": [\"disabled\", \"form\", \"name\"],\n    \"legend\": [],\n    \"label\": [\"form\", \"for\"],\n    \"input\": [\"type\", \"accept\", \"alt\", \"autocomplete\", \"checked\", \"disabled\", \"form\", \"formaction\", \"formenctype\", \"formmethod\", \"formnovalidate\", \"formtarget\", \"height\", \"list\", \"max\", \"maxlength\", \"min\", \"multiple\", \"pattern\", \"placeholder\", \"readonly\", \"required\", \"size\", \"src\", \"step\", \"width\", \"files\", \"value\"],\n    \"button\": [\"autofocus\", \"disabled\", \"form\", \"formaction\", \"formenctype\", \"formmethod\", \"formnovalidate\", \"formtarget\", \"name\", \"value\", \"type\"],\n    \"select\": [\"autofocus\", \"disabled\", \"form\", \"multiple\", \"name\", \"size\"],\n    \"datalist\": [],\n    \"optgroup\": [\"disabled\", \"label\"],\n    \"option\": [\"disabled\", \"selected\", \"label\", \"value\"],\n    \"textarea\": [\"autofocus\", \"disabled\", \"form\", \"maxlength\", \"name\", \"placeholder\", \"readonly\", \"required\", \"rows\", \"cols\", \"wrap\"],\n    \"keygen\": [\"autofocus\", \"challenge\", \"disabled\", \"form\", \"keytype\", \"name\"],\n    \"output\": [\"for\", \"form\", \"name\"],\n    \"progress\": [\"value\", \"max\"],\n    \"meter\": [\"value\", \"min\", \"max\", \"low\", \"high\", \"optimum\"],\n    \"details\": [\"open\"],\n    \"summary\": [],\n    \"command\": [\"type\", \"label\", \"icon\", \"disabled\", \"checked\", \"radiogroup\", \"command\"],\n    \"menu\": [\"type\", \"label\"],\n    \"dialog\": [\"open\"]\n};\n\nvar elements = Object.keys(attributeMap);\n\nfunction is(token, type) {\n    return token.type.lastIndexOf(type + \".xml\") > -1;\n}\n\nfunction findTagName(session, pos) {\n    var iterator = new TokenIterator(session, pos.row, pos.column);\n    var token = iterator.getCurrentToken();\n    while (token && !is(token, \"tag-name\")){\n        token = iterator.stepBackward();\n    }\n    if (token)\n        return token.value;\n}\n\nvar HtmlCompletions = function() {\n\n};\n\n(function() {\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var token = session.getTokenAt(pos.row, pos.column);\n\n        if (!token)\n            return [];\n        if (is(token, \"tag-name\") || is(token, \"tag-open\") || is(token, \"end-tag-open\"))\n            return this.getTagCompletions(state, session, pos, prefix);\n        if (is(token, \"tag-whitespace\") || is(token, \"attribute-name\"))\n            return this.getAttributeCompetions(state, session, pos, prefix);\n\n        return [];\n    };\n\n    this.getTagCompletions = function(state, session, pos, prefix) {\n        return elements.map(function(element){\n            return {\n                value: element,\n                meta: \"tag\",\n                score: Number.MAX_VALUE\n            };\n        });\n    };\n\n    this.getAttributeCompetions = function(state, session, pos, prefix) {\n        var tagName = findTagName(session, pos);\n        if (!tagName)\n            return [];\n        var attributes = globalAttributes;\n        if (tagName in attributeMap) {\n            attributes = attributes.concat(attributeMap[tagName]);\n        }\n        return attributes.map(function(attribute){\n            return {\n                caption: attribute,\n                snippet: attribute + '=\"$0\"',\n                meta: \"attribute\",\n                score: Number.MAX_VALUE\n            };\n        });\n    };\n\n}).call(HtmlCompletions.prototype);\n\nexports.HtmlCompletions = HtmlCompletions;\n});\n\ndefine(\"ace/mode/html\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/mode/text\",\"ace/mode/javascript\",\"ace/mode/css\",\"ace/mode/html_highlight_rules\",\"ace/mode/behaviour/xml\",\"ace/mode/folding/html\",\"ace/mode/html_completions\",\"ace/worker/worker_client\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar TextMode = require(\"./text\").Mode;\nvar JavaScriptMode = require(\"./javascript\").Mode;\nvar CssMode = require(\"./css\").Mode;\nvar HtmlHighlightRules = require(\"./html_highlight_rules\").HtmlHighlightRules;\nvar XmlBehaviour = require(\"./behaviour/xml\").XmlBehaviour;\nvar HtmlFoldMode = require(\"./folding/html\").FoldMode;\nvar HtmlCompletions = require(\"./html_completions\").HtmlCompletions;\nvar WorkerClient = require(\"../worker/worker_client\").WorkerClient;\nvar voidElements = [\"area\", \"base\", \"br\", \"col\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"meta\", \"menuitem\", \"param\", \"source\", \"track\", \"wbr\"];\nvar optionalEndTags = [\"li\", \"dt\", \"dd\", \"p\", \"rt\", \"rp\", \"optgroup\", \"option\", \"colgroup\", \"td\", \"th\"];\n\nvar Mode = function(options) {\n    this.fragmentContext = options && options.fragmentContext;\n    this.HighlightRules = HtmlHighlightRules;\n    this.$behaviour = new XmlBehaviour();\n    this.$completer = new HtmlCompletions();\n    \n    this.createModeDelegates({\n        \"js-\": JavaScriptMode,\n        \"css-\": CssMode\n    });\n    \n    this.foldingRules = new HtmlFoldMode(this.voidElements, lang.arrayToMap(optionalEndTags));\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n\n    this.blockComment = {start: \"<!--\", end: \"-->\"};\n\n    this.voidElements = lang.arrayToMap(voidElements);\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        return this.$completer.getCompletions(state, session, pos, prefix);\n    };\n\n    this.createWorker = function(session) {\n        if (this.constructor != Mode)\n            return;\n        var worker = new WorkerClient([\"ace\"], \"ace/mode/html_worker\", \"Worker\");\n        worker.attachToDocument(session.getDocument());\n\n        if (this.fragmentContext)\n            worker.call(\"setOptions\", [{context: this.fragmentContext}]);\n\n        worker.on(\"error\", function(e) {\n            session.setAnnotations(e.data);\n        });\n\n        worker.on(\"terminate\", function() {\n            session.clearAnnotations();\n        });\n\n        return worker;\n    };\n\n    this.$id = \"ace/mode/html\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\ndefine(\"ace/mode/markdown_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/mode/text_highlight_rules\",\"ace/mode/javascript_highlight_rules\",\"ace/mode/xml_highlight_rules\",\"ace/mode/html_highlight_rules\",\"ace/mode/css_highlight_rules\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar JavaScriptHighlightRules = require(\"./javascript_highlight_rules\").JavaScriptHighlightRules;\nvar XmlHighlightRules = require(\"./xml_highlight_rules\").XmlHighlightRules;\nvar HtmlHighlightRules = require(\"./html_highlight_rules\").HtmlHighlightRules;\nvar CssHighlightRules = require(\"./css_highlight_rules\").CssHighlightRules;\n\nvar escaped = function(ch) {\n    return \"(?:[^\" + lang.escapeRegExp(ch) + \"\\\\\\\\]|\\\\\\\\.)*\";\n}\n\nfunction github_embed(tag, prefix) {\n    return { // Github style block\n        token : \"support.function\",\n        regex : \"^\\\\s*```\" + tag + \"\\\\s*$\",\n        push  : prefix + \"start\"\n    };\n}\n\nvar MarkdownHighlightRules = function() {\n    HtmlHighlightRules.call(this);\n\n    this.$rules[\"start\"].unshift({\n        token : \"empty_line\",\n        regex : '^$',\n        next: \"allowBlock\"\n    }, { // h1\n        token: \"markup.heading.1\",\n        regex: \"^=+(?=\\\\s*$)\"\n    }, { // h2\n        token: \"markup.heading.2\",\n        regex: \"^\\\\-+(?=\\\\s*$)\"\n    }, {\n        token : function(value) {\n            return \"markup.heading.\" + value.length;\n        },\n        regex : /^#{1,6}(?=\\s*[^ #]|\\s+#.)/,\n        next : \"header\"\n    },\n       github_embed(\"(?:javascript|js)\", \"jscode-\"),\n       github_embed(\"xml\", \"xmlcode-\"),\n       github_embed(\"html\", \"htmlcode-\"),\n       github_embed(\"css\", \"csscode-\"),\n    { // Github style block\n        token : \"support.function\",\n        regex : \"^\\\\s*```\\\\s*\\\\S*(?:{.*?\\\\})?\\\\s*$\",\n        next  : \"githubblock\"\n    }, { // block quote\n        token : \"string.blockquote\",\n        regex : \"^\\\\s*>\\\\s*(?:[*+-]|\\\\d+\\\\.)?\\\\s+\",\n        next  : \"blockquote\"\n    }, { // HR * - _\n        token : \"constant\",\n        regex : \"^ {0,2}(?:(?: ?\\\\* ?){3,}|(?: ?\\\\- ?){3,}|(?: ?\\\\_ ?){3,})\\\\s*$\",\n        next: \"allowBlock\"\n    }, { // list\n        token : \"markup.list\",\n        regex : \"^\\\\s{0,3}(?:[*+-]|\\\\d+\\\\.)\\\\s+\",\n        next  : \"listblock-start\"\n    }, {\n        include : \"basic\"\n    });\n\n    this.addRules({\n        \"basic\" : [{\n            token : \"constant.language.escape\",\n            regex : /\\\\[\\\\`*_{}\\[\\]()#+\\-.!]/\n        }, { // code span `\n            token : \"support.function\",\n            regex : \"(`+)(.*?[^`])(\\\\1)\"\n        }, { // reference\n            token : [\"text\", \"constant\", \"text\", \"url\", \"string\", \"text\"],\n            regex : \"^([ ]{0,3}\\\\[)([^\\\\]]+)(\\\\]:\\\\s*)([^ ]+)(\\\\s*(?:[\\\"][^\\\"]+[\\\"])?(\\\\s*))$\"\n        }, { // link by reference\n            token : [\"text\", \"string\", \"text\", \"constant\", \"text\"],\n            regex : \"(\\\\[)(\" + escaped(\"]\") + \")(\\\\]\\s*\\\\[)(\"+ escaped(\"]\") + \")(\\\\])\"\n        }, { // link by url\n            token : [\"text\", \"string\", \"text\", \"markup.underline\", \"string\", \"text\"],\n            regex : \"(\\\\[)(\" +                                        // [\n                    escaped(\"]\") +                                    // link text\n                    \")(\\\\]\\\\()\"+                                      // ](\n                    '((?:[^\\\\)\\\\s\\\\\\\\]|\\\\\\\\.|\\\\s(?=[^\"]))*)' +        // href\n                    '(\\\\s*\"' +  escaped('\"') + '\"\\\\s*)?' +            // \"title\"\n                    \"(\\\\))\"                                           // )\n        }, { // strong ** __\n            token : \"string.strong\",\n            regex : \"([*]{2}|[_]{2}(?=\\\\S))(.*?\\\\S[*_]*)(\\\\1)\"\n        }, { // emphasis * _\n            token : \"string.emphasis\",\n            regex : \"([*]|[_](?=\\\\S))(.*?\\\\S[*_]*)(\\\\1)\"\n        }, { //\n            token : [\"text\", \"url\", \"text\"],\n            regex : \"(<)(\"+\n                      \"(?:https?|ftp|dict):[^'\\\">\\\\s]+\"+\n                      \"|\"+\n                      \"(?:mailto:)?[-.\\\\w]+\\\\@[-a-z0-9]+(?:\\\\.[-a-z0-9]+)*\\\\.[a-z]+\"+\n                    \")(>)\"\n        }],\n        \"allowBlock\": [\n            {token : \"support.function\", regex : \"^ {4}.+\", next : \"allowBlock\"},\n            {token : \"empty\", regex : \"\", next : \"start\"}\n        ],\n\n        \"header\" : [{\n            regex: \"$\",\n            next : \"start\"\n        }, {\n            include: \"basic\"\n        }, {\n            defaultToken : \"heading\"\n        } ],\n\n        \"listblock-start\" : [{\n            token : \"support.variable\",\n            regex : /(?:\\[[ x]\\])?/,\n            next  : \"listblock\"\n        }],\n\n        \"listblock\" : [ { // Lists only escape on completely blank lines.\n            token : \"empty_line\",\n            regex : \"^$\",\n            next  : \"start\"\n        }, { // list\n            token : \"markup.list\",\n            regex : \"^\\\\s{0,3}(?:[*+-]|\\\\d+\\\\.)\\\\s+\",\n            next  : \"listblock-start\"\n        }, {\n            include : \"basic\", noEscape: true\n        }, { // Github style block\n            token : \"support.function\",\n            regex : \"^\\\\s*```\\\\s*[a-zA-Z]*(?:{.*?\\\\})?\\\\s*$\",\n            next  : \"githubblock\"\n        }, {\n            defaultToken : \"list\" //do not use markup.list to allow stling leading `*` differntly\n        } ],\n\n        \"blockquote\" : [ { // Blockquotes only escape on blank lines.\n            token : \"empty_line\",\n            regex : \"^\\\\s*$\",\n            next  : \"start\"\n        }, { // block quote\n            token : \"string.blockquote\",\n            regex : \"^\\\\s*>\\\\s*(?:[*+-]|\\\\d+\\\\.)?\\\\s+\",\n            next  : \"blockquote\"\n        }, {\n            include : \"basic\", noEscape: true\n        }, {\n            defaultToken : \"string.blockquote\"\n        } ],\n\n        \"githubblock\" : [ {\n            token : \"support.function\",\n            regex : \"^\\\\s*```\",\n            next  : \"start\"\n        }, {\n            token : \"support.function\",\n            regex : \".+\"\n        } ]\n    });\n\n    this.embedRules(JavaScriptHighlightRules, \"jscode-\", [{\n       token : \"support.function\",\n       regex : \"^\\\\s*```\",\n       next  : \"pop\"\n    }]);\n\n    this.embedRules(HtmlHighlightRules, \"htmlcode-\", [{\n       token : \"support.function\",\n       regex : \"^\\\\s*```\",\n       next  : \"pop\"\n    }]);\n\n    this.embedRules(CssHighlightRules, \"csscode-\", [{\n       token : \"support.function\",\n       regex : \"^\\\\s*```\",\n       next  : \"pop\"\n    }]);\n\n    this.embedRules(XmlHighlightRules, \"xmlcode-\", [{\n       token : \"support.function\",\n       regex : \"^\\\\s*```\",\n       next  : \"pop\"\n    }]);\n\n    this.normalizeRules();\n};\noop.inherits(MarkdownHighlightRules, TextHighlightRules);\n\nexports.MarkdownHighlightRules = MarkdownHighlightRules;\n});\n\ndefine(\"ace/mode/folding/markdown\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/folding/fold_mode\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar BaseFoldMode = require(\"./fold_mode\").FoldMode;\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\noop.inherits(FoldMode, BaseFoldMode);\n\n(function() {\n    this.foldingStartMarker = /^(?:[=-]+\\s*$|#{1,6} |`{3})/;\n\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (!this.foldingStartMarker.test(line))\n            return \"\";\n\n        if (line[0] == \"`\") {\n            if (session.bgTokenizer.getState(row) == \"start\")\n                return \"end\";\n            return \"start\";\n        }\n\n        return \"start\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        var startColumn = line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n        if (!line.match(this.foldingStartMarker))\n            return;\n\n        if (line[0] == \"`\") {\n            if (session.bgTokenizer.getState(row) !== \"start\") {\n                while (++row < maxRow) {\n                    line = session.getLine(row);\n                    if (line[0] == \"`\" & line.substring(0, 3) == \"```\")\n                        break;\n                }\n                return new Range(startRow, startColumn, row, 0);\n            } else {\n                while (row -- > 0) {\n                    line = session.getLine(row);\n                    if (line[0] == \"`\" & line.substring(0, 3) == \"```\")\n                        break;\n                }\n                return new Range(row, line.length, startRow, 0);\n            }\n        }\n\n        var token;\n        function isHeading(row) {\n            token = session.getTokens(row)[0];\n            return token && token.type.lastIndexOf(heading, 0) === 0;\n        }\n\n        var heading = \"markup.heading\";\n        function getLevel() {\n            var ch = token.value[0];\n            if (ch == \"=\") return 6;\n            if (ch == \"-\") return 5;\n            return 7 - token.value.search(/[^#]/);\n        }\n\n        if (isHeading(row)) {\n            var startHeadingLevel = getLevel();\n            while (++row < maxRow) {\n                if (!isHeading(row))\n                    continue;\n                var level = getLevel();\n                if (level >= startHeadingLevel)\n                    break;\n            }\n\n            endRow = row - (!token || [\"=\", \"-\"].indexOf(token.value[0]) == -1 ? 1 : 2);\n\n            if (endRow > startRow) {\n                while (endRow > startRow && /^\\s*$/.test(session.getLine(endRow)))\n                    endRow--;\n            }\n\n            if (endRow > startRow) {\n                var endColumn = session.getLine(endRow).length;\n                return new Range(startRow, startColumn, endRow, endColumn);\n            }\n        }\n    };\n\n}).call(FoldMode.prototype);\n\n});\n\ndefine(\"ace/mode/markdown\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/javascript\",\"ace/mode/xml\",\"ace/mode/html\",\"ace/mode/markdown_highlight_rules\",\"ace/mode/folding/markdown\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar TextMode = require(\"./text\").Mode;\nvar JavaScriptMode = require(\"./javascript\").Mode;\nvar XmlMode = require(\"./xml\").Mode;\nvar HtmlMode = require(\"./html\").Mode;\nvar MarkdownHighlightRules = require(\"./markdown_highlight_rules\").MarkdownHighlightRules;\nvar MarkdownFoldMode = require(\"./folding/markdown\").FoldMode;\n\nvar Mode = function() {\n    this.HighlightRules = MarkdownHighlightRules;\n\n    this.createModeDelegates({\n        \"js-\": JavaScriptMode,\n        \"xml-\": XmlMode,\n        \"html-\": HtmlMode\n    });\n\n    this.foldingRules = new MarkdownFoldMode();\n};\noop.inherits(Mode, TextMode);\n\n(function() {\n    this.type = \"text\";\n    this.blockComment = {start: \"<!--\", end: \"-->\"};\n\n    this.getNextLineIndent = function(state, line, tab) {\n        if (state == \"listblock\") {\n            var match = /^(\\s*)(?:([-+*])|(\\d+)\\.)(\\s+)/.exec(line);\n            if (!match)\n                return \"\";\n            var marker = match[2];\n            if (!marker)\n                marker = parseInt(match[3], 10) + 1 + \".\";\n            return match[1] + marker + match[4];\n        } else {\n            return this.$getIndent(line);\n        }\n    };\n    this.$id = \"ace/mode/markdown\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n"],"sourceRoot":"/source/"}